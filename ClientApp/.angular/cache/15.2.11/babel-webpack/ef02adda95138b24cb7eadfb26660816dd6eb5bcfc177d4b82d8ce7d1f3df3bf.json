{"ast":null,"code":"import { Injectable, Component, ElementRef, Renderer2, HostListener, EventEmitter, Directive, ViewContainerRef, Input, Output, RendererFactory2, NgModule } from '@angular/core';\nimport { isBs3, Utils, document as document$1, window as window$1 } from 'ngx-bootstrap/utils';\nimport { ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ngx-bootstrap/component-loader';\nconst _c0 = [\"*\"];\nclass BsModalRef {\n  constructor() {\n    /**\n     * Hides the modal\n     */\n    this.hide = Function;\n    /**\n     * Sets new class to modal window\n     */\n    this.setClass = Function;\n  }\n}\nBsModalRef.ɵfac = function BsModalRef_Factory(t) {\n  return new (t || BsModalRef)();\n};\nBsModalRef.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: BsModalRef,\n  factory: BsModalRef.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalRef, [{\n    type: Injectable\n  }], function () {\n    return [];\n  }, null);\n})();\nif (false) {\n  /**\n   * Reference to a component inside the modal. Null if modal's been created with TemplateRef\n   * @type {?}\n   */\n  BsModalRef.prototype.content;\n  /**\n   * Hides the modal\n   * @type {?}\n   */\n  BsModalRef.prototype.hide;\n  /**\n   * Sets new class to modal window\n   * @type {?}\n   */\n  BsModalRef.prototype.setClass;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalBackdropOptions {\n  /**\n   * @param {?} options\n   */\n  constructor(options) {\n    this.animate = true;\n    Object.assign(this, options);\n  }\n}\nif (false) {\n  /** @type {?} */\n  ModalBackdropOptions.prototype.animate;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalOptions {}\nModalOptions.ɵfac = function ModalOptions_Factory(t) {\n  return new (t || ModalOptions)();\n};\nModalOptions.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: ModalOptions,\n  factory: ModalOptions.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalOptions, [{\n    type: Injectable\n  }], null, null);\n})();\nif (false) {\n  /**\n   *  Includes a modal-backdrop element. Alternatively,\n   *  specify static for a backdrop which doesn't close the modal on click.\n   * @type {?}\n   */\n  ModalOptions.prototype.backdrop;\n  /**\n   * Closes the modal when escape key is pressed.\n   * @type {?}\n   */\n  ModalOptions.prototype.keyboard;\n  /** @type {?} */\n  ModalOptions.prototype.focus;\n  /**\n   * Shows the modal when initialized.\n   * @type {?}\n   */\n  ModalOptions.prototype.show;\n  /**\n   * Ignore the backdrop click\n   * @type {?}\n   */\n  ModalOptions.prototype.ignoreBackdropClick;\n  /**\n   * Css class for opened modal\n   * @type {?}\n   */\n  ModalOptions.prototype.class;\n  /**\n   * Toggle animation\n   * @type {?}\n   */\n  ModalOptions.prototype.animated;\n  /**\n   * Modal data\n   * @type {?}\n   */\n  ModalOptions.prototype.initialState;\n  /**\n   * Modal providers\n   * @type {?}\n   */\n  ModalOptions.prototype.providers;\n  /**\n   * aria-labelledby attribute value to set on the modal window\n   * @type {?}\n   */\n  ModalOptions.prototype.ariaLabelledBy;\n  /**\n   * aria-describedby attribute value to set on the modal window\n   * @type {?}\n   */\n  ModalOptions.prototype.ariaDescribedby;\n}\n/** @type {?} */\nconst modalConfigDefaults = {\n  backdrop: true,\n  keyboard: true,\n  focus: true,\n  show: false,\n  ignoreBackdropClick: false,\n  class: '',\n  animated: true,\n  initialState: {}\n};\n/** @type {?} */\nconst CLASS_NAME = {\n  SCROLLBAR_MEASURER: 'modal-scrollbar-measure',\n  BACKDROP: 'modal-backdrop',\n  OPEN: 'modal-open',\n  FADE: 'fade',\n  IN: 'in',\n  // bs3\n  SHOW: 'show' // bs4\n};\n/** @type {?} */\nconst SELECTOR = {\n  DIALOG: '.modal-dialog',\n  DATA_TOGGLE: '[data-toggle=\"modal\"]',\n  DATA_DISMISS: '[data-dismiss=\"modal\"]',\n  FIXED_CONTENT: '.navbar-fixed-top, .navbar-fixed-bottom, .is-fixed'\n};\n/** @type {?} */\nconst TRANSITION_DURATIONS = {\n  MODAL: 300,\n  BACKDROP: 150\n};\n/** @type {?} */\nconst DISMISS_REASONS = {\n  BACKRDOP: 'backdrop-click',\n  ESC: 'esc'\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalContainerComponent {\n  /**\n   * @param {?} options\n   * @param {?} _element\n   * @param {?} _renderer\n   */\n  constructor(options, _element, _renderer) {\n    this._element = _element;\n    this._renderer = _renderer;\n    this.isShown = false;\n    this.isModalHiding = false;\n    this.clickStartedInContent = false;\n    this.config = Object.assign({}, options);\n  }\n  /**\n   * @return {?}\n   */\n  ngOnInit() {\n    if (this.isAnimated) {\n      this._renderer.addClass(this._element.nativeElement, CLASS_NAME.FADE);\n    }\n    this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n    setTimeout(\n    /**\n    * @return {?}\n    */\n    () => {\n      this.isShown = true;\n      this._renderer.addClass(this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n    }, this.isAnimated ? TRANSITION_DURATIONS.BACKDROP : 0);\n    if (document && document.body) {\n      if (this.bsModalService.getModalsCount() === 1) {\n        this.bsModalService.checkScrollbar();\n        this.bsModalService.setScrollbar();\n      }\n      this._renderer.addClass(document.body, CLASS_NAME.OPEN);\n    }\n    if (this._element.nativeElement) {\n      this._element.nativeElement.focus();\n    }\n  }\n  /**\n   * @param {?} event\n   * @return {?}\n   */\n  onClickStarted(event) {\n    this.clickStartedInContent = event.target !== this._element.nativeElement;\n  }\n  /**\n   * @param {?} event\n   * @return {?}\n   */\n  onClickStop(event) {\n    /** @type {?} */\n    const clickedInBackdrop = event.target === this._element.nativeElement && !this.clickStartedInContent;\n    if (this.config.ignoreBackdropClick || this.config.backdrop === 'static' || !clickedInBackdrop) {\n      this.clickStartedInContent = false;\n      return;\n    }\n    this.bsModalService.setDismissReason(DISMISS_REASONS.BACKRDOP);\n    this.hide();\n  }\n  /**\n   * @param {?} event\n   * @return {?}\n   */\n  onEsc(event) {\n    if (!this.isShown) {\n      return;\n    }\n    // tslint:disable-next-line:deprecation\n    if (event.keyCode === 27 || event.key === 'Escape') {\n      event.preventDefault();\n    }\n    if (this.config.keyboard && this.level === this.bsModalService.getModalsCount()) {\n      this.bsModalService.setDismissReason(DISMISS_REASONS.ESC);\n      this.hide();\n    }\n  }\n  /**\n   * @return {?}\n   */\n  ngOnDestroy() {\n    if (this.isShown) {\n      this.hide();\n    }\n  }\n  /**\n   * @return {?}\n   */\n  hide() {\n    if (this.isModalHiding || !this.isShown) {\n      return;\n    }\n    this.isModalHiding = true;\n    this._renderer.removeClass(this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n    setTimeout(\n    /**\n    * @return {?}\n    */\n    () => {\n      this.isShown = false;\n      if (document && document.body && this.bsModalService.getModalsCount() === 1) {\n        this._renderer.removeClass(document.body, CLASS_NAME.OPEN);\n      }\n      this.bsModalService.hide(this.level);\n      this.isModalHiding = false;\n    }, this.isAnimated ? TRANSITION_DURATIONS.MODAL : 0);\n  }\n}\nModalContainerComponent.ɵfac = function ModalContainerComponent_Factory(t) {\n  return new (t || ModalContainerComponent)(ɵngcc0.ɵɵdirectiveInject(ModalOptions), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2));\n};\nModalContainerComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: ModalContainerComponent,\n  selectors: [[\"modal-container\"]],\n  hostAttrs: [\"role\", \"dialog\", \"tabindex\", \"-1\", 1, \"modal\"],\n  hostVars: 3,\n  hostBindings: function ModalContainerComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"mousedown\", function ModalContainerComponent_mousedown_HostBindingHandler($event) {\n        return ctx.onClickStarted($event);\n      })(\"mouseup\", function ModalContainerComponent_mouseup_HostBindingHandler($event) {\n        return ctx.onClickStop($event);\n      })(\"keydown.esc\", function ModalContainerComponent_keydown_esc_HostBindingHandler($event) {\n        return ctx.onEsc($event);\n      }, false, ɵngcc0.ɵɵresolveWindow);\n    }\n    if (rf & 2) {\n      ɵngcc0.ɵɵattribute(\"aria-modal\", true)(\"aria-labelledby\", ctx.config.ariaLabelledBy)(\"aria-describedby\", ctx.config.ariaDescribedby);\n    }\n  },\n  ngContentSelectors: _c0,\n  decls: 3,\n  vars: 2,\n  consts: [[\"role\", \"document\"], [1, \"modal-content\"]],\n  template: function ModalContainerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      ɵngcc0.ɵɵprojection(2);\n      ɵngcc0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassMap(\"modal-dialog\" + (ctx.config.class ? \" \" + ctx.config.class : \"\"));\n    }\n  },\n  encapsulation: 2\n});\n/** @nocollapse */\nModalContainerComponent.ctorParameters = () => [{\n  type: ModalOptions\n}, {\n  type: ElementRef\n}, {\n  type: Renderer2\n}];\nModalContainerComponent.propDecorators = {\n  onClickStarted: [{\n    type: HostListener,\n    args: ['mousedown', ['$event']]\n  }],\n  onClickStop: [{\n    type: HostListener,\n    args: ['mouseup', ['$event']]\n  }],\n  onEsc: [{\n    type: HostListener,\n    args: ['window:keydown.esc', ['$event']]\n  }]\n};\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalContainerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'modal-container',\n      template: `\n    <div [class]=\"'modal-dialog' + (config.class ? ' ' + config.class : '')\" role=\"document\">\n      <div class=\"modal-content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  `,\n      host: {\n        class: 'modal',\n        role: 'dialog',\n        tabindex: '-1',\n        '[attr.aria-modal]': 'true',\n        '[attr.aria-labelledby]': 'config.ariaLabelledBy',\n        '[attr.aria-describedby]': 'config.ariaDescribedby'\n      }\n    }]\n  }], function () {\n    return [{\n      type: ModalOptions\n    }, {\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }];\n  }, {\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted: [{\n      type: HostListener,\n      args: ['mousedown', ['$event']]\n    }],\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop: [{\n      type: HostListener,\n      args: ['mouseup', ['$event']]\n    }],\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc: [{\n      type: HostListener,\n      args: ['window:keydown.esc', ['$event']]\n    }]\n  });\n})();\nif (false) {\n  /** @type {?} */\n  ModalContainerComponent.prototype.config;\n  /** @type {?} */\n  ModalContainerComponent.prototype.isShown;\n  /** @type {?} */\n  ModalContainerComponent.prototype.level;\n  /** @type {?} */\n  ModalContainerComponent.prototype.isAnimated;\n  /** @type {?} */\n  ModalContainerComponent.prototype.bsModalService;\n  /**\n   * @type {?}\n   * @private\n   */\n  ModalContainerComponent.prototype.isModalHiding;\n  /**\n   * @type {?}\n   * @private\n   */\n  ModalContainerComponent.prototype.clickStartedInContent;\n  /**\n   * @type {?}\n   * @protected\n   */\n  ModalContainerComponent.prototype._element;\n  /**\n   * @type {?}\n   * @private\n   */\n  ModalContainerComponent.prototype._renderer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * This component will be added as background layout for modals if enabled\n */\nclass ModalBackdropComponent {\n  /**\n   * @param {?} element\n   * @param {?} renderer\n   */\n  constructor(element, renderer) {\n    this._isShown = false;\n    this.element = element;\n    this.renderer = renderer;\n  }\n  /**\n   * @return {?}\n   */\n  get isAnimated() {\n    return this._isAnimated;\n  }\n  /**\n   * @param {?} value\n   * @return {?}\n   */\n  set isAnimated(value) {\n    this._isAnimated = value;\n    // this.renderer.setElementClass(this.element.nativeElement, `${ClassName.FADE}`, value);\n  }\n  /**\n   * @return {?}\n   */\n  get isShown() {\n    return this._isShown;\n  }\n  /**\n   * @param {?} value\n   * @return {?}\n   */\n  set isShown(value) {\n    this._isShown = value;\n    if (value) {\n      this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.IN}`);\n    } else {\n      this.renderer.removeClass(this.element.nativeElement, `${CLASS_NAME.IN}`);\n    }\n    if (!isBs3()) {\n      if (value) {\n        this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.SHOW}`);\n      } else {\n        this.renderer.removeClass(this.element.nativeElement, `${CLASS_NAME.SHOW}`);\n      }\n    }\n  }\n  /**\n   * @return {?}\n   */\n  ngOnInit() {\n    if (this.isAnimated) {\n      this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.FADE}`);\n      Utils.reflow(this.element.nativeElement);\n    }\n    this.isShown = true;\n  }\n}\nModalBackdropComponent.ɵfac = function ModalBackdropComponent_Factory(t) {\n  return new (t || ModalBackdropComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2));\n};\nModalBackdropComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: ModalBackdropComponent,\n  selectors: [[\"bs-modal-backdrop\"]],\n  hostAttrs: [1, \"modal-backdrop\"],\n  decls: 0,\n  vars: 0,\n  template: function ModalBackdropComponent_Template(rf, ctx) {},\n  encapsulation: 2\n});\n/** @nocollapse */\nModalBackdropComponent.ctorParameters = () => [{\n  type: ElementRef\n}, {\n  type: Renderer2\n}];\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalBackdropComponent, [{\n    type: Component,\n    args: [{\n      selector: 'bs-modal-backdrop',\n      template: ' ',\n      host: {\n        class: CLASS_NAME.BACKDROP\n      }\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }];\n  }, null);\n})();\nif (false) {\n  /** @type {?} */\n  ModalBackdropComponent.prototype.element;\n  /** @type {?} */\n  ModalBackdropComponent.prototype.renderer;\n  /**\n   * @type {?}\n   * @protected\n   */\n  ModalBackdropComponent.prototype._isAnimated;\n  /**\n   * @type {?}\n   * @protected\n   */\n  ModalBackdropComponent.prototype._isShown;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst TRANSITION_DURATION = 300;\n/** @type {?} */\nconst BACKDROP_TRANSITION_DURATION = 150;\n/**\n * Mark any code with directive to show it's content in modal\n */\nclass ModalDirective {\n  /**\n   * @param {?} _element\n   * @param {?} _viewContainerRef\n   * @param {?} _renderer\n   * @param {?} clf\n   */\n  constructor(_element, _viewContainerRef, _renderer, clf) {\n    this._element = _element;\n    this._renderer = _renderer;\n    /**\n     * This event fires immediately when the `show` instance method is called.\n     */\n    this.onShow = new EventEmitter();\n    /**\n     * This event is fired when the modal has been made visible to the user\n     * (will wait for CSS transitions to complete)\n     */\n    this.onShown = new EventEmitter();\n    /**\n     * This event is fired immediately when\n     * the hide instance method has been called.\n     */\n    this.onHide = new EventEmitter();\n    /**\n     * This event is fired when the modal has finished being\n     * hidden from the user (will wait for CSS transitions to complete).\n     */\n    this.onHidden = new EventEmitter();\n    this._isShown = false;\n    this.isBodyOverflowing = false;\n    this.originalBodyPadding = 0;\n    this.scrollbarWidth = 0;\n    this.timerHideModal = 0;\n    this.timerRmBackDrop = 0;\n    this.isNested = false;\n    this.clickStartedInContent = false;\n    this._backdrop = clf.createLoader(_element, _viewContainerRef, _renderer);\n  }\n  /**\n   * allows to set modal configuration via element property\n   * @param {?} conf\n   * @return {?}\n   */\n  set config(conf) {\n    this._config = this.getConfig(conf);\n  }\n  /**\n   * @return {?}\n   */\n  get config() {\n    return this._config;\n  }\n  /**\n   * @return {?}\n   */\n  get isShown() {\n    return this._isShown;\n  }\n  /**\n   * @param {?} event\n   * @return {?}\n   */\n  onClickStarted(event) {\n    this.clickStartedInContent = event.target !== this._element.nativeElement;\n  }\n  /**\n   * @param {?} event\n   * @return {?}\n   */\n  onClickStop(event) {\n    /** @type {?} */\n    const clickedInBackdrop = event.target === this._element.nativeElement && !this.clickStartedInContent;\n    if (this.config.ignoreBackdropClick || this.config.backdrop === 'static' || !clickedInBackdrop) {\n      this.clickStartedInContent = false;\n      return;\n    }\n    this.dismissReason = DISMISS_REASONS.BACKRDOP;\n    this.hide(event);\n  }\n  // todo: consider preventing default and stopping propagation\n  /**\n   * @param {?} event\n   * @return {?}\n   */\n  onEsc(event) {\n    if (!this._isShown) {\n      return;\n    }\n    // tslint:disable-next-line:deprecation\n    if (event.keyCode === 27 || event.key === 'Escape') {\n      event.preventDefault();\n    }\n    if (this.config.keyboard) {\n      this.dismissReason = DISMISS_REASONS.ESC;\n      this.hide();\n    }\n  }\n  /**\n   * @return {?}\n   */\n  ngOnDestroy() {\n    this.config = void 0;\n    if (this._isShown) {\n      this._isShown = false;\n      this.hideModal();\n      this._backdrop.dispose();\n    }\n  }\n  /**\n   * @return {?}\n   */\n  ngOnInit() {\n    this._config = this._config || this.getConfig();\n    setTimeout(\n    /**\n    * @return {?}\n    */\n    () => {\n      if (this._config.show) {\n        this.show();\n      }\n    }, 0);\n  }\n  /* Public methods */\n  /**\n   * Allows to manually toggle modal visibility\n   * @return {?}\n   */\n  toggle() {\n    return this._isShown ? this.hide() : this.show();\n  }\n  /**\n   * Allows to manually open modal\n   * @return {?}\n   */\n  show() {\n    this.dismissReason = null;\n    this.onShow.emit(this);\n    if (this._isShown) {\n      return;\n    }\n    clearTimeout(this.timerHideModal);\n    clearTimeout(this.timerRmBackDrop);\n    this._isShown = true;\n    this.checkScrollbar();\n    this.setScrollbar();\n    if (document$1 && document$1.body) {\n      if (document$1.body.classList.contains(CLASS_NAME.OPEN)) {\n        this.isNested = true;\n      } else {\n        this._renderer.addClass(document$1.body, CLASS_NAME.OPEN);\n      }\n    }\n    this.showBackdrop(\n    /**\n    * @return {?}\n    */\n    () => {\n      this.showElement();\n    });\n  }\n  /**\n   * Allows to manually close modal\n   * @param {?=} event\n   * @return {?}\n   */\n  hide(event) {\n    if (event) {\n      event.preventDefault();\n    }\n    this.onHide.emit(this);\n    // todo: add an option to prevent hiding\n    if (!this._isShown) {\n      return;\n    }\n    window$1.clearTimeout(this.timerHideModal);\n    window$1.clearTimeout(this.timerRmBackDrop);\n    this._isShown = false;\n    this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.IN);\n    if (!isBs3()) {\n      this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.SHOW);\n    }\n    // this._addClassIn = false;\n    if (this._config.animated) {\n      this.timerHideModal = window$1.setTimeout(\n      /**\n      * @return {?}\n      */\n      () => this.hideModal(), TRANSITION_DURATION);\n    } else {\n      this.hideModal();\n    }\n  }\n  /**\n   * Private methods \\@internal\n   * @protected\n   * @param {?=} config\n   * @return {?}\n   */\n  getConfig(config) {\n    return Object.assign({}, modalConfigDefaults, config);\n  }\n  /**\n   *  Show dialog\n   * \\@internal\n   * @protected\n   * @return {?}\n   */\n  showElement() {\n    // todo: replace this with component loader usage\n    if (!this._element.nativeElement.parentNode || this._element.nativeElement.parentNode.nodeType !== Node.ELEMENT_NODE) {\n      // don't move modals dom position\n      if (document$1 && document$1.body) {\n        document$1.body.appendChild(this._element.nativeElement);\n      }\n    }\n    this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'false');\n    this._renderer.setAttribute(this._element.nativeElement, 'aria-modal', 'true');\n    this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n    this._renderer.setProperty(this._element.nativeElement, 'scrollTop', 0);\n    if (this._config.animated) {\n      Utils.reflow(this._element.nativeElement);\n    }\n    // this._addClassIn = true;\n    this._renderer.addClass(this._element.nativeElement, CLASS_NAME.IN);\n    if (!isBs3()) {\n      this._renderer.addClass(this._element.nativeElement, CLASS_NAME.SHOW);\n    }\n    /** @type {?} */\n    const transitionComplete =\n    /**\n    * @return {?}\n    */\n    () => {\n      if (this._config.focus) {\n        this._element.nativeElement.focus();\n      }\n      this.onShown.emit(this);\n    };\n    if (this._config.animated) {\n      setTimeout(transitionComplete, TRANSITION_DURATION);\n    } else {\n      transitionComplete();\n    }\n  }\n  /**\n   * \\@internal\n   * @protected\n   * @return {?}\n   */\n  hideModal() {\n    this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'true');\n    this._renderer.setStyle(this._element.nativeElement, 'display', 'none');\n    this.showBackdrop(\n    /**\n    * @return {?}\n    */\n    () => {\n      if (!this.isNested) {\n        if (document$1 && document$1.body) {\n          this._renderer.removeClass(document$1.body, CLASS_NAME.OPEN);\n        }\n        this.resetScrollbar();\n      }\n      this.resetAdjustments();\n      this.focusOtherModal();\n      this.onHidden.emit(this);\n    });\n  }\n  // todo: original show was calling a callback when done, but we can use\n  // promise\n  /**\n   * \\@internal\n   * @protected\n   * @param {?=} callback\n   * @return {?}\n   */\n  showBackdrop(callback) {\n    if (this._isShown && this.config.backdrop && (!this.backdrop || !this.backdrop.instance.isShown)) {\n      this.removeBackdrop();\n      this._backdrop.attach(ModalBackdropComponent).to('body').show({\n        isAnimated: this._config.animated\n      });\n      this.backdrop = this._backdrop._componentRef;\n      if (!callback) {\n        return;\n      }\n      if (!this._config.animated) {\n        callback();\n        return;\n      }\n      setTimeout(callback, BACKDROP_TRANSITION_DURATION);\n    } else if (!this._isShown && this.backdrop) {\n      this.backdrop.instance.isShown = false;\n      /** @type {?} */\n      const callbackRemove =\n      /**\n      * @return {?}\n      */\n      () => {\n        this.removeBackdrop();\n        if (callback) {\n          callback();\n        }\n      };\n      if (this.backdrop.instance.isAnimated) {\n        this.timerRmBackDrop = window$1.setTimeout(callbackRemove, BACKDROP_TRANSITION_DURATION);\n      } else {\n        callbackRemove();\n      }\n    } else if (callback) {\n      callback();\n    }\n  }\n  /**\n   * \\@internal\n   * @protected\n   * @return {?}\n   */\n  removeBackdrop() {\n    this._backdrop.hide();\n  }\n  /**\n   * Events tricks\n   * @protected\n   * @return {?}\n   */\n  // no need for it\n  // protected setEscapeEvent():void {\n  //   if (this._isShown && this._config.keyboard) {\n  //     $(this._element).on(Event.KEYDOWN_DISMISS, (event) => {\n  //       if (event.which === 27) {\n  //         this.hide()\n  //       }\n  //     })\n  //\n  //   } else if (!this._isShown) {\n  //     $(this._element).off(Event.KEYDOWN_DISMISS)\n  //   }\n  // }\n  // protected setResizeEvent():void {\n  // console.log(this.renderer.listenGlobal('', Event.RESIZE));\n  // if (this._isShown) {\n  //   $(window).on(Event.RESIZE, $.proxy(this._handleUpdate, this))\n  // } else {\n  //   $(window).off(Event.RESIZE)\n  // }\n  // }\n  focusOtherModal() {\n    if (this._element.nativeElement.parentElement == null) {\n      return;\n    }\n    /** @type {?} */\n    const otherOpenedModals = this._element.nativeElement.parentElement.querySelectorAll('.in[bsModal]');\n    if (!otherOpenedModals.length) {\n      return;\n    }\n    otherOpenedModals[otherOpenedModals.length - 1].focus();\n  }\n  /**\n   * \\@internal\n   * @protected\n   * @return {?}\n   */\n  resetAdjustments() {\n    this._renderer.setStyle(this._element.nativeElement, 'paddingLeft', '');\n    this._renderer.setStyle(this._element.nativeElement, 'paddingRight', '');\n  }\n  /** Scroll bar tricks */\n  /**\n   * \\@internal\n   * @protected\n   * @return {?}\n   */\n  checkScrollbar() {\n    this.isBodyOverflowing = document$1.body.clientWidth < window$1.innerWidth;\n    this.scrollbarWidth = this.getScrollbarWidth();\n  }\n  /**\n   * @protected\n   * @return {?}\n   */\n  setScrollbar() {\n    if (!document$1) {\n      return;\n    }\n    this.originalBodyPadding = parseInt(window$1.getComputedStyle(document$1.body).getPropertyValue('padding-right') || 0, 10);\n    if (this.isBodyOverflowing) {\n      document$1.body.style.paddingRight = `${this.originalBodyPadding + this.scrollbarWidth}px`;\n    }\n  }\n  /**\n   * @protected\n   * @return {?}\n   */\n  resetScrollbar() {\n    document$1.body.style.paddingRight = `${this.originalBodyPadding}px`;\n  }\n  // thx d.walsh\n  /**\n   * @protected\n   * @return {?}\n   */\n  getScrollbarWidth() {\n    /** @type {?} */\n    const scrollDiv = this._renderer.createElement('div');\n    this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n    this._renderer.appendChild(document$1.body, scrollDiv);\n    /** @type {?} */\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n    this._renderer.removeChild(document$1.body, scrollDiv);\n    return scrollbarWidth;\n  }\n}\nModalDirective.ɵfac = function ModalDirective_Factory(t) {\n  return new (t || ModalDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ComponentLoaderFactory));\n};\nModalDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n  type: ModalDirective,\n  selectors: [[\"\", \"bsModal\", \"\"]],\n  hostBindings: function ModalDirective_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"mousedown\", function ModalDirective_mousedown_HostBindingHandler($event) {\n        return ctx.onClickStarted($event);\n      })(\"mouseup\", function ModalDirective_mouseup_HostBindingHandler($event) {\n        return ctx.onClickStop($event);\n      })(\"keydown.esc\", function ModalDirective_keydown_esc_HostBindingHandler($event) {\n        return ctx.onEsc($event);\n      });\n    }\n  },\n  inputs: {\n    config: \"config\"\n  },\n  outputs: {\n    onShow: \"onShow\",\n    onShown: \"onShown\",\n    onHide: \"onHide\",\n    onHidden: \"onHidden\"\n  },\n  exportAs: [\"bs-modal\"]\n});\n/** @nocollapse */\nModalDirective.ctorParameters = () => [{\n  type: ElementRef\n}, {\n  type: ViewContainerRef\n}, {\n  type: Renderer2\n}, {\n  type: ComponentLoaderFactory\n}];\nModalDirective.propDecorators = {\n  config: [{\n    type: Input\n  }],\n  onShow: [{\n    type: Output\n  }],\n  onShown: [{\n    type: Output\n  }],\n  onHide: [{\n    type: Output\n  }],\n  onHidden: [{\n    type: Output\n  }],\n  onClickStarted: [{\n    type: HostListener,\n    args: ['mousedown', ['$event']]\n  }],\n  onClickStop: [{\n    type: HostListener,\n    args: ['mouseup', ['$event']]\n  }],\n  onEsc: [{\n    type: HostListener,\n    args: ['keydown.esc', ['$event']]\n  }]\n};\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[bsModal]',\n      exportAs: 'bs-modal'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.ViewContainerRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc1.ComponentLoaderFactory\n    }];\n  }, {\n    onShow: [{\n      type: Output\n    }],\n    onShown: [{\n      type: Output\n    }],\n    onHide: [{\n      type: Output\n    }],\n    onHidden: [{\n      type: Output\n    }],\n    config: [{\n      type: Input\n    }],\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted: [{\n      type: HostListener,\n      args: ['mousedown', ['$event']]\n    }],\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop: [{\n      type: HostListener,\n      args: ['mouseup', ['$event']]\n    }],\n    // todo: consider preventing default and stopping propagation\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc: [{\n      type: HostListener,\n      args: ['keydown.esc', ['$event']]\n    }]\n  });\n})();\nif (false) {\n  /**\n   * This event fires immediately when the `show` instance method is called.\n   * @type {?}\n   */\n  ModalDirective.prototype.onShow;\n  /**\n   * This event is fired when the modal has been made visible to the user\n   * (will wait for CSS transitions to complete)\n   * @type {?}\n   */\n  ModalDirective.prototype.onShown;\n  /**\n   * This event is fired immediately when\n   * the hide instance method has been called.\n   * @type {?}\n   */\n  ModalDirective.prototype.onHide;\n  /**\n   * This event is fired when the modal has finished being\n   * hidden from the user (will wait for CSS transitions to complete).\n   * @type {?}\n   */\n  ModalDirective.prototype.onHidden;\n  /**\n   * This field contains last dismiss reason.\n   * Possible values: `backdrop-click`, `esc` and `null`\n   * (if modal was closed by direct call of `.hide()`).\n   * @type {?}\n   */\n  ModalDirective.prototype.dismissReason;\n  /**\n   * @type {?}\n   * @protected\n   */\n  ModalDirective.prototype._config;\n  /**\n   * @type {?}\n   * @protected\n   */\n  ModalDirective.prototype._isShown;\n  /**\n   * @type {?}\n   * @protected\n   */\n  ModalDirective.prototype.isBodyOverflowing;\n  /**\n   * @type {?}\n   * @protected\n   */\n  ModalDirective.prototype.originalBodyPadding;\n  /**\n   * @type {?}\n   * @protected\n   */\n  ModalDirective.prototype.scrollbarWidth;\n  /**\n   * @type {?}\n   * @protected\n   */\n  ModalDirective.prototype.timerHideModal;\n  /**\n   * @type {?}\n   * @protected\n   */\n  ModalDirective.prototype.timerRmBackDrop;\n  /**\n   * @type {?}\n   * @protected\n   */\n  ModalDirective.prototype.backdrop;\n  /**\n   * @type {?}\n   * @private\n   */\n  ModalDirective.prototype._backdrop;\n  /**\n   * @type {?}\n   * @private\n   */\n  ModalDirective.prototype.isNested;\n  /**\n   * @type {?}\n   * @private\n   */\n  ModalDirective.prototype.clickStartedInContent;\n  /**\n   * @type {?}\n   * @private\n   */\n  ModalDirective.prototype._element;\n  /**\n   * @type {?}\n   * @private\n   */\n  ModalDirective.prototype._renderer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass BsModalService {\n  /**\n   * @param {?} rendererFactory\n   * @param {?} clf\n   */\n  constructor(rendererFactory, clf) {\n    this.clf = clf;\n    // constructor props\n    this.config = modalConfigDefaults;\n    // tslint:disable-next-line:no-any\n    this.onShow = new EventEmitter();\n    // tslint:disable-next-line:no-any\n    this.onShown = new EventEmitter();\n    // tslint:disable-next-line:no-any\n    this.onHide = new EventEmitter();\n    // tslint:disable-next-line:no-any\n    this.onHidden = new EventEmitter();\n    this.isBodyOverflowing = false;\n    this.originalBodyPadding = 0;\n    this.scrollbarWidth = 0;\n    this.modalsCount = 0;\n    this.lastDismissReason = '';\n    this.loaders = [];\n    this._backdropLoader = this.clf.createLoader(null, null, null);\n    this._renderer = rendererFactory.createRenderer(null, null);\n  }\n  /**\n   * Shows a modal\n   * @param {?} content\n   * @param {?=} config\n   * @return {?}\n   */\n  // tslint:disable-next-line:no-any\n  show(content, config) {\n    this.modalsCount++;\n    this._createLoaders();\n    this.config = Object.assign({}, modalConfigDefaults, config);\n    this._showBackdrop();\n    this.lastDismissReason = null;\n    return this._showModal(content);\n  }\n  /**\n   * @param {?} level\n   * @return {?}\n   */\n  hide(level) {\n    if (this.modalsCount === 1) {\n      this._hideBackdrop();\n      this.resetScrollbar();\n    }\n    this.modalsCount = this.modalsCount >= 1 ? this.modalsCount - 1 : 0;\n    setTimeout(\n    /**\n    * @return {?}\n    */\n    () => {\n      this._hideModal(level);\n      this.removeLoaders(level);\n    }, this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0);\n  }\n  /**\n   * @return {?}\n   */\n  _showBackdrop() {\n    /** @type {?} */\n    const isBackdropEnabled = this.config.backdrop || this.config.backdrop === 'static';\n    /** @type {?} */\n    const isBackdropInDOM = !this.backdropRef || !this.backdropRef.instance.isShown;\n    if (this.modalsCount === 1) {\n      this.removeBackdrop();\n      if (isBackdropEnabled && isBackdropInDOM) {\n        this._backdropLoader.attach(ModalBackdropComponent).to('body').show({\n          isAnimated: this.config.animated\n        });\n        this.backdropRef = this._backdropLoader._componentRef;\n      }\n    }\n  }\n  /**\n   * @return {?}\n   */\n  _hideBackdrop() {\n    if (!this.backdropRef) {\n      return;\n    }\n    this.backdropRef.instance.isShown = false;\n    /** @type {?} */\n    const duration = this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0;\n    setTimeout(\n    /**\n    * @return {?}\n    */\n    () => this.removeBackdrop(), duration);\n  }\n  // tslint:disable-next-line:no-any\n  /**\n   * @param {?} content\n   * @return {?}\n   */\n  _showModal(content) {\n    /** @type {?} */\n    const modalLoader = this.loaders[this.loaders.length - 1];\n    if (this.config && this.config.providers) {\n      for (const provider of this.config.providers) {\n        modalLoader.provide(provider);\n      }\n    }\n    /** @type {?} */\n    const bsModalRef = new BsModalRef();\n    /** @type {?} */\n    const modalContainerRef = modalLoader.provide({\n      provide: ModalOptions,\n      useValue: this.config\n    }).provide({\n      provide: BsModalRef,\n      useValue: bsModalRef\n    }).attach(ModalContainerComponent).to('body').show({\n      content,\n      isAnimated: this.config.animated,\n      initialState: this.config.initialState,\n      bsModalService: this\n    });\n    modalContainerRef.instance.level = this.getModalsCount();\n    bsModalRef.hide =\n    /**\n    * @return {?}\n    */\n    () => {\n      /** @type {?} */\n      const duration = this.config.animated ? TRANSITION_DURATIONS.MODAL : 0;\n      setTimeout(\n      /**\n      * @return {?}\n      */\n      () => modalContainerRef.instance.hide(), duration);\n    };\n    bsModalRef.content = modalLoader.getInnerComponent() || null;\n    bsModalRef.setClass =\n    /**\n    * @param {?} newClass\n    * @return {?}\n    */\n    newClass => {\n      modalContainerRef.instance.config.class = newClass;\n    };\n    return bsModalRef;\n  }\n  /**\n   * @param {?} level\n   * @return {?}\n   */\n  _hideModal(level) {\n    /** @type {?} */\n    const modalLoader = this.loaders[level - 1];\n    if (modalLoader) {\n      modalLoader.hide();\n    }\n  }\n  /**\n   * @return {?}\n   */\n  getModalsCount() {\n    return this.modalsCount;\n  }\n  /**\n   * @param {?} reason\n   * @return {?}\n   */\n  setDismissReason(reason) {\n    this.lastDismissReason = reason;\n  }\n  /**\n   * @return {?}\n   */\n  removeBackdrop() {\n    this._backdropLoader.hide();\n    this.backdropRef = null;\n  }\n  /** Checks if the body is overflowing and sets scrollbar width */\n  /**\n   * \\@internal\n   * @return {?}\n   */\n  checkScrollbar() {\n    this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\n    this.scrollbarWidth = this.getScrollbarWidth();\n  }\n  /**\n   * @return {?}\n   */\n  setScrollbar() {\n    if (!document) {\n      return;\n    }\n    this.originalBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right') || '0', 10);\n    if (this.isBodyOverflowing) {\n      document.body.style.paddingRight = `${this.originalBodyPadding + this.scrollbarWidth}px`;\n    }\n  }\n  /**\n   * @private\n   * @return {?}\n   */\n  resetScrollbar() {\n    document.body.style.paddingRight = `${this.originalBodyPadding}px`;\n  }\n  // thx d.walsh\n  /**\n   * @private\n   * @return {?}\n   */\n  getScrollbarWidth() {\n    /** @type {?} */\n    const scrollDiv = this._renderer.createElement('div');\n    this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n    this._renderer.appendChild(document.body, scrollDiv);\n    /** @type {?} */\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n    this._renderer.removeChild(document.body, scrollDiv);\n    return scrollbarWidth;\n  }\n  /**\n   * @private\n   * @return {?}\n   */\n  _createLoaders() {\n    /** @type {?} */\n    const loader = this.clf.createLoader(null, null, null);\n    this.copyEvent(loader.onBeforeShow, this.onShow);\n    this.copyEvent(loader.onShown, this.onShown);\n    this.copyEvent(loader.onBeforeHide, this.onHide);\n    this.copyEvent(loader.onHidden, this.onHidden);\n    this.loaders.push(loader);\n  }\n  /**\n   * @private\n   * @param {?} level\n   * @return {?}\n   */\n  removeLoaders(level) {\n    this.loaders.splice(level - 1, 1);\n    this.loaders.forEach(\n    /**\n    * @param {?} loader\n    * @param {?} i\n    * @return {?}\n    */\n    (loader, i) => {\n      loader.instance.level = i + 1;\n    });\n  }\n  // tslint:disable-next-line:no-any\n  /**\n   * @private\n   * @param {?} from\n   * @param {?} to\n   * @return {?}\n   */\n  copyEvent(from, to) {\n    from.subscribe(\n    /**\n    * @return {?}\n    */\n    () => {\n      to.emit(this.lastDismissReason);\n    });\n  }\n}\nBsModalService.ɵfac = function BsModalService_Factory(t) {\n  return new (t || BsModalService)(ɵngcc0.ɵɵinject(ɵngcc0.RendererFactory2), ɵngcc0.ɵɵinject(ɵngcc1.ComponentLoaderFactory));\n};\nBsModalService.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: BsModalService,\n  factory: BsModalService.ɵfac\n});\n/** @nocollapse */\nBsModalService.ctorParameters = () => [{\n  type: RendererFactory2\n}, {\n  type: ComponentLoaderFactory\n}];\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: ɵngcc0.RendererFactory2\n    }, {\n      type: ɵngcc1.ComponentLoaderFactory\n    }];\n  }, null);\n})();\nif (false) {\n  /** @type {?} */\n  BsModalService.prototype.config;\n  /** @type {?} */\n  BsModalService.prototype.onShow;\n  /** @type {?} */\n  BsModalService.prototype.onShown;\n  /** @type {?} */\n  BsModalService.prototype.onHide;\n  /** @type {?} */\n  BsModalService.prototype.onHidden;\n  /**\n   * @type {?}\n   * @protected\n   */\n  BsModalService.prototype.isBodyOverflowing;\n  /**\n   * @type {?}\n   * @protected\n   */\n  BsModalService.prototype.originalBodyPadding;\n  /**\n   * @type {?}\n   * @protected\n   */\n  BsModalService.prototype.scrollbarWidth;\n  /**\n   * @type {?}\n   * @protected\n   */\n  BsModalService.prototype.backdropRef;\n  /**\n   * @type {?}\n   * @private\n   */\n  BsModalService.prototype._backdropLoader;\n  /**\n   * @type {?}\n   * @private\n   */\n  BsModalService.prototype.modalsCount;\n  /**\n   * @type {?}\n   * @private\n   */\n  BsModalService.prototype.lastDismissReason;\n  /**\n   * @type {?}\n   * @private\n   */\n  BsModalService.prototype.loaders;\n  /**\n   * @type {?}\n   * @private\n   */\n  BsModalService.prototype._renderer;\n  /**\n   * @type {?}\n   * @private\n   */\n  BsModalService.prototype.clf;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalModule {\n  /**\n   * @return {?}\n   */\n  static forRoot() {\n    return {\n      ngModule: ModalModule,\n      providers: [BsModalService, ComponentLoaderFactory, PositioningService]\n    };\n  }\n  /**\n   * @return {?}\n   */\n  static forChild() {\n    return {\n      ngModule: ModalModule,\n      providers: [BsModalService, ComponentLoaderFactory, PositioningService]\n    };\n  }\n}\nModalModule.ɵfac = function ModalModule_Factory(t) {\n  return new (t || ModalModule)();\n};\nModalModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: ModalModule\n});\nModalModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [ModalBackdropComponent, ModalDirective, ModalContainerComponent],\n      exports: [ModalBackdropComponent, ModalDirective],\n      entryComponents: [ModalBackdropComponent, ModalContainerComponent]\n    }]\n  }], null, null);\n})();\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ModalModule, {\n    declarations: [ModalBackdropComponent, ModalDirective, ModalContainerComponent],\n    exports: [ModalBackdropComponent, ModalDirective]\n  });\n})();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { BsModalRef, BsModalService, ModalBackdropComponent, ModalBackdropOptions, ModalContainerComponent, ModalDirective, ModalModule, ModalOptions, CLASS_NAME as ɵa };","map":{"version":3,"names":["Injectable","Component","ElementRef","Renderer2","HostListener","EventEmitter","Directive","ViewContainerRef","Input","Output","RendererFactory2","NgModule","isBs3","Utils","document","document$1","window","window$1","ComponentLoaderFactory","PositioningService","ɵngcc0","ɵngcc1","_c0","BsModalRef","constructor","hide","Function","setClass","ɵfac","BsModalRef_Factory","t","ɵprov","ɵɵdefineInjectable","token","factory","ngDevMode","ɵsetClassMetadata","type","prototype","content","ModalBackdropOptions","options","animate","Object","assign","ModalOptions","ModalOptions_Factory","backdrop","keyboard","focus","show","ignoreBackdropClick","class","animated","initialState","providers","ariaLabelledBy","ariaDescribedby","modalConfigDefaults","CLASS_NAME","SCROLLBAR_MEASURER","BACKDROP","OPEN","FADE","IN","SHOW","SELECTOR","DIALOG","DATA_TOGGLE","DATA_DISMISS","FIXED_CONTENT","TRANSITION_DURATIONS","MODAL","DISMISS_REASONS","BACKRDOP","ESC","ModalContainerComponent","_element","_renderer","isShown","isModalHiding","clickStartedInContent","config","ngOnInit","isAnimated","addClass","nativeElement","setStyle","setTimeout","body","bsModalService","getModalsCount","checkScrollbar","setScrollbar","onClickStarted","event","target","onClickStop","clickedInBackdrop","setDismissReason","onEsc","keyCode","key","preventDefault","level","ngOnDestroy","removeClass","ModalContainerComponent_Factory","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","selectors","hostAttrs","hostVars","hostBindings","ModalContainerComponent_HostBindings","rf","ctx","ɵɵlistener","ModalContainerComponent_mousedown_HostBindingHandler","$event","ModalContainerComponent_mouseup_HostBindingHandler","ModalContainerComponent_keydown_esc_HostBindingHandler","ɵɵresolveWindow","ɵɵattribute","ngContentSelectors","decls","vars","consts","template","ModalContainerComponent_Template","ɵɵprojectionDef","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","ɵɵclassMap","encapsulation","ctorParameters","propDecorators","args","selector","host","role","tabindex","ModalBackdropComponent","element","renderer","_isShown","_isAnimated","value","reflow","ModalBackdropComponent_Factory","ModalBackdropComponent_Template","TRANSITION_DURATION","BACKDROP_TRANSITION_DURATION","ModalDirective","_viewContainerRef","clf","onShow","onShown","onHide","onHidden","isBodyOverflowing","originalBodyPadding","scrollbarWidth","timerHideModal","timerRmBackDrop","isNested","_backdrop","createLoader","conf","_config","getConfig","dismissReason","hideModal","dispose","toggle","emit","clearTimeout","classList","contains","showBackdrop","showElement","parentNode","nodeType","Node","ELEMENT_NODE","appendChild","setAttribute","setProperty","transitionComplete","resetScrollbar","resetAdjustments","focusOtherModal","callback","instance","removeBackdrop","attach","to","_componentRef","callbackRemove","parentElement","otherOpenedModals","querySelectorAll","length","clientWidth","innerWidth","getScrollbarWidth","parseInt","getComputedStyle","getPropertyValue","style","paddingRight","scrollDiv","createElement","offsetWidth","removeChild","ModalDirective_Factory","ɵdir","ɵɵdefineDirective","ModalDirective_HostBindings","ModalDirective_mousedown_HostBindingHandler","ModalDirective_mouseup_HostBindingHandler","ModalDirective_keydown_esc_HostBindingHandler","inputs","outputs","exportAs","BsModalService","rendererFactory","modalsCount","lastDismissReason","loaders","_backdropLoader","createRenderer","_createLoaders","_showBackdrop","_showModal","_hideBackdrop","_hideModal","removeLoaders","isBackdropEnabled","isBackdropInDOM","backdropRef","duration","modalLoader","provider","provide","bsModalRef","modalContainerRef","useValue","getInnerComponent","newClass","reason","loader","copyEvent","onBeforeShow","onBeforeHide","push","splice","forEach","i","from","subscribe","BsModalService_Factory","ɵɵinject","ModalModule","forRoot","ngModule","forChild","ModalModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","declarations","exports","entryComponents","ngJitMode","ɵɵsetNgModuleScope","ɵa"],"sources":["D:/Project/CMA/ClientApp/node_modules/ngx-bootstrap/__ivy_ngcc__/modal/fesm2015/ngx-bootstrap-modal.js"],"sourcesContent":["import { Injectable, Component, ElementRef, Renderer2, HostListener, EventEmitter, Directive, ViewContainerRef, Input, Output, RendererFactory2, NgModule } from '@angular/core';\nimport { isBs3, Utils, document as document$1, window as window$1 } from 'ngx-bootstrap/utils';\nimport { ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ngx-bootstrap/component-loader';\n\nconst _c0 = [\"*\"];\nclass BsModalRef {\n    constructor() {\n        /**\n         * Hides the modal\n         */\n        this.hide = Function;\n        /**\n         * Sets new class to modal window\n         */\n        this.setClass = Function;\n    }\n}\nBsModalRef.ɵfac = function BsModalRef_Factory(t) { return new (t || BsModalRef)(); };\nBsModalRef.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: BsModalRef, factory: BsModalRef.ɵfac });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalRef, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\nif (false) {\n    /**\n     * Reference to a component inside the modal. Null if modal's been created with TemplateRef\n     * @type {?}\n     */\n    BsModalRef.prototype.content;\n    /**\n     * Hides the modal\n     * @type {?}\n     */\n    BsModalRef.prototype.hide;\n    /**\n     * Sets new class to modal window\n     * @type {?}\n     */\n    BsModalRef.prototype.setClass;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalBackdropOptions {\n    /**\n     * @param {?} options\n     */\n    constructor(options) {\n        this.animate = true;\n        Object.assign(this, options);\n    }\n}\nif (false) {\n    /** @type {?} */\n    ModalBackdropOptions.prototype.animate;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalOptions {\n}\nModalOptions.ɵfac = function ModalOptions_Factory(t) { return new (t || ModalOptions)(); };\nModalOptions.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: ModalOptions, factory: ModalOptions.ɵfac });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalOptions, [{\n        type: Injectable\n    }], null, null); })();\nif (false) {\n    /**\n     *  Includes a modal-backdrop element. Alternatively,\n     *  specify static for a backdrop which doesn't close the modal on click.\n     * @type {?}\n     */\n    ModalOptions.prototype.backdrop;\n    /**\n     * Closes the modal when escape key is pressed.\n     * @type {?}\n     */\n    ModalOptions.prototype.keyboard;\n    /** @type {?} */\n    ModalOptions.prototype.focus;\n    /**\n     * Shows the modal when initialized.\n     * @type {?}\n     */\n    ModalOptions.prototype.show;\n    /**\n     * Ignore the backdrop click\n     * @type {?}\n     */\n    ModalOptions.prototype.ignoreBackdropClick;\n    /**\n     * Css class for opened modal\n     * @type {?}\n     */\n    ModalOptions.prototype.class;\n    /**\n     * Toggle animation\n     * @type {?}\n     */\n    ModalOptions.prototype.animated;\n    /**\n     * Modal data\n     * @type {?}\n     */\n    ModalOptions.prototype.initialState;\n    /**\n     * Modal providers\n     * @type {?}\n     */\n    ModalOptions.prototype.providers;\n    /**\n     * aria-labelledby attribute value to set on the modal window\n     * @type {?}\n     */\n    ModalOptions.prototype.ariaLabelledBy;\n    /**\n     * aria-describedby attribute value to set on the modal window\n     * @type {?}\n     */\n    ModalOptions.prototype.ariaDescribedby;\n}\n/** @type {?} */\nconst modalConfigDefaults = {\n    backdrop: true,\n    keyboard: true,\n    focus: true,\n    show: false,\n    ignoreBackdropClick: false,\n    class: '',\n    animated: true,\n    initialState: {}\n};\n/** @type {?} */\nconst CLASS_NAME = {\n    SCROLLBAR_MEASURER: 'modal-scrollbar-measure',\n    BACKDROP: 'modal-backdrop',\n    OPEN: 'modal-open',\n    FADE: 'fade',\n    IN: 'in',\n    // bs3\n    SHOW: 'show' // bs4\n};\n/** @type {?} */\nconst SELECTOR = {\n    DIALOG: '.modal-dialog',\n    DATA_TOGGLE: '[data-toggle=\"modal\"]',\n    DATA_DISMISS: '[data-dismiss=\"modal\"]',\n    FIXED_CONTENT: '.navbar-fixed-top, .navbar-fixed-bottom, .is-fixed'\n};\n/** @type {?} */\nconst TRANSITION_DURATIONS = {\n    MODAL: 300,\n    BACKDROP: 150\n};\n/** @type {?} */\nconst DISMISS_REASONS = {\n    BACKRDOP: 'backdrop-click',\n    ESC: 'esc'\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalContainerComponent {\n    /**\n     * @param {?} options\n     * @param {?} _element\n     * @param {?} _renderer\n     */\n    constructor(options, _element, _renderer) {\n        this._element = _element;\n        this._renderer = _renderer;\n        this.isShown = false;\n        this.isModalHiding = false;\n        this.clickStartedInContent = false;\n        this.config = Object.assign({}, options);\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        if (this.isAnimated) {\n            this._renderer.addClass(this._element.nativeElement, CLASS_NAME.FADE);\n        }\n        this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this.isShown = true;\n            this._renderer.addClass(this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n        }), this.isAnimated ? TRANSITION_DURATIONS.BACKDROP : 0);\n        if (document && document.body) {\n            if (this.bsModalService.getModalsCount() === 1) {\n                this.bsModalService.checkScrollbar();\n                this.bsModalService.setScrollbar();\n            }\n            this._renderer.addClass(document.body, CLASS_NAME.OPEN);\n        }\n        if (this._element.nativeElement) {\n            this._element.nativeElement.focus();\n        }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted(event) {\n        this.clickStartedInContent = event.target !== this._element.nativeElement;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop(event) {\n        /** @type {?} */\n        const clickedInBackdrop = event.target === this._element.nativeElement && !this.clickStartedInContent;\n        if (this.config.ignoreBackdropClick ||\n            this.config.backdrop === 'static' ||\n            !clickedInBackdrop) {\n            this.clickStartedInContent = false;\n            return;\n        }\n        this.bsModalService.setDismissReason(DISMISS_REASONS.BACKRDOP);\n        this.hide();\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc(event) {\n        if (!this.isShown) {\n            return;\n        }\n        // tslint:disable-next-line:deprecation\n        if (event.keyCode === 27 || event.key === 'Escape') {\n            event.preventDefault();\n        }\n        if (this.config.keyboard &&\n            this.level === this.bsModalService.getModalsCount()) {\n            this.bsModalService.setDismissReason(DISMISS_REASONS.ESC);\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        if (this.isShown) {\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    hide() {\n        if (this.isModalHiding || !this.isShown) {\n            return;\n        }\n        this.isModalHiding = true;\n        this._renderer.removeClass(this._element.nativeElement, isBs3() ? CLASS_NAME.IN : CLASS_NAME.SHOW);\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this.isShown = false;\n            if (document &&\n                document.body &&\n                this.bsModalService.getModalsCount() === 1) {\n                this._renderer.removeClass(document.body, CLASS_NAME.OPEN);\n            }\n            this.bsModalService.hide(this.level);\n            this.isModalHiding = false;\n        }), this.isAnimated ? TRANSITION_DURATIONS.MODAL : 0);\n    }\n}\nModalContainerComponent.ɵfac = function ModalContainerComponent_Factory(t) { return new (t || ModalContainerComponent)(ɵngcc0.ɵɵdirectiveInject(ModalOptions), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nModalContainerComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ModalContainerComponent, selectors: [[\"modal-container\"]], hostAttrs: [\"role\", \"dialog\", \"tabindex\", \"-1\", 1, \"modal\"], hostVars: 3, hostBindings: function ModalContainerComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mousedown\", function ModalContainerComponent_mousedown_HostBindingHandler($event) { return ctx.onClickStarted($event); })(\"mouseup\", function ModalContainerComponent_mouseup_HostBindingHandler($event) { return ctx.onClickStop($event); })(\"keydown.esc\", function ModalContainerComponent_keydown_esc_HostBindingHandler($event) { return ctx.onEsc($event); }, false, ɵngcc0.ɵɵresolveWindow);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"aria-modal\", true)(\"aria-labelledby\", ctx.config.ariaLabelledBy)(\"aria-describedby\", ctx.config.ariaDescribedby);\n    } }, ngContentSelectors: _c0, decls: 3, vars: 2, consts: [[\"role\", \"document\"], [1, \"modal-content\"]], template: function ModalContainerComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        ɵngcc0.ɵɵprojection(2);\n        ɵngcc0.ɵɵelementEnd()();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵclassMap(\"modal-dialog\" + (ctx.config.class ? \" \" + ctx.config.class : \"\"));\n    } }, encapsulation: 2 });\n/** @nocollapse */\nModalContainerComponent.ctorParameters = () => [\n    { type: ModalOptions },\n    { type: ElementRef },\n    { type: Renderer2 }\n];\nModalContainerComponent.propDecorators = {\n    onClickStarted: [{ type: HostListener, args: ['mousedown', ['$event'],] }],\n    onClickStop: [{ type: HostListener, args: ['mouseup', ['$event'],] }],\n    onEsc: [{ type: HostListener, args: ['window:keydown.esc', ['$event'],] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalContainerComponent, [{\n        type: Component,\n        args: [{\n                selector: 'modal-container',\n                template: `\n    <div [class]=\"'modal-dialog' + (config.class ? ' ' + config.class : '')\" role=\"document\">\n      <div class=\"modal-content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  `,\n                host: {\n                    class: 'modal',\n                    role: 'dialog',\n                    tabindex: '-1',\n                    '[attr.aria-modal]': 'true',\n                    '[attr.aria-labelledby]': 'config.ariaLabelledBy',\n                    '[attr.aria-describedby]': 'config.ariaDescribedby'\n                }\n            }]\n    }], function () { return [{ type: ModalOptions }, { type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }]; }, { \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted: [{\n            type: HostListener,\n            args: ['mousedown', ['$event']]\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop: [{\n            type: HostListener,\n            args: ['mouseup', ['$event']]\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc: [{\n            type: HostListener,\n            args: ['window:keydown.esc', ['$event']]\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    ModalContainerComponent.prototype.config;\n    /** @type {?} */\n    ModalContainerComponent.prototype.isShown;\n    /** @type {?} */\n    ModalContainerComponent.prototype.level;\n    /** @type {?} */\n    ModalContainerComponent.prototype.isAnimated;\n    /** @type {?} */\n    ModalContainerComponent.prototype.bsModalService;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalContainerComponent.prototype.isModalHiding;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalContainerComponent.prototype.clickStartedInContent;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalContainerComponent.prototype._element;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalContainerComponent.prototype._renderer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * This component will be added as background layout for modals if enabled\n */\nclass ModalBackdropComponent {\n    /**\n     * @param {?} element\n     * @param {?} renderer\n     */\n    constructor(element, renderer) {\n        this._isShown = false;\n        this.element = element;\n        this.renderer = renderer;\n    }\n    /**\n     * @return {?}\n     */\n    get isAnimated() {\n        return this._isAnimated;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set isAnimated(value) {\n        this._isAnimated = value;\n        // this.renderer.setElementClass(this.element.nativeElement, `${ClassName.FADE}`, value);\n    }\n    /**\n     * @return {?}\n     */\n    get isShown() {\n        return this._isShown;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set isShown(value) {\n        this._isShown = value;\n        if (value) {\n            this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.IN}`);\n        }\n        else {\n            this.renderer.removeClass(this.element.nativeElement, `${CLASS_NAME.IN}`);\n        }\n        if (!isBs3()) {\n            if (value) {\n                this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.SHOW}`);\n            }\n            else {\n                this.renderer.removeClass(this.element.nativeElement, `${CLASS_NAME.SHOW}`);\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        if (this.isAnimated) {\n            this.renderer.addClass(this.element.nativeElement, `${CLASS_NAME.FADE}`);\n            Utils.reflow(this.element.nativeElement);\n        }\n        this.isShown = true;\n    }\n}\nModalBackdropComponent.ɵfac = function ModalBackdropComponent_Factory(t) { return new (t || ModalBackdropComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nModalBackdropComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ModalBackdropComponent, selectors: [[\"bs-modal-backdrop\"]], hostAttrs: [1, \"modal-backdrop\"], decls: 0, vars: 0, template: function ModalBackdropComponent_Template(rf, ctx) { }, encapsulation: 2 });\n/** @nocollapse */\nModalBackdropComponent.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Renderer2 }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalBackdropComponent, [{\n        type: Component,\n        args: [{\n                selector: 'bs-modal-backdrop',\n                template: ' ',\n                host: { class: CLASS_NAME.BACKDROP }\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }]; }, null); })();\nif (false) {\n    /** @type {?} */\n    ModalBackdropComponent.prototype.element;\n    /** @type {?} */\n    ModalBackdropComponent.prototype.renderer;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalBackdropComponent.prototype._isAnimated;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalBackdropComponent.prototype._isShown;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst TRANSITION_DURATION = 300;\n/** @type {?} */\nconst BACKDROP_TRANSITION_DURATION = 150;\n/**\n * Mark any code with directive to show it's content in modal\n */\nclass ModalDirective {\n    /**\n     * @param {?} _element\n     * @param {?} _viewContainerRef\n     * @param {?} _renderer\n     * @param {?} clf\n     */\n    constructor(_element, _viewContainerRef, _renderer, clf) {\n        this._element = _element;\n        this._renderer = _renderer;\n        /**\n         * This event fires immediately when the `show` instance method is called.\n         */\n        this.onShow = new EventEmitter();\n        /**\n         * This event is fired when the modal has been made visible to the user\n         * (will wait for CSS transitions to complete)\n         */\n        this.onShown = new EventEmitter();\n        /**\n         * This event is fired immediately when\n         * the hide instance method has been called.\n         */\n        this.onHide = new EventEmitter();\n        /**\n         * This event is fired when the modal has finished being\n         * hidden from the user (will wait for CSS transitions to complete).\n         */\n        this.onHidden = new EventEmitter();\n        this._isShown = false;\n        this.isBodyOverflowing = false;\n        this.originalBodyPadding = 0;\n        this.scrollbarWidth = 0;\n        this.timerHideModal = 0;\n        this.timerRmBackDrop = 0;\n        this.isNested = false;\n        this.clickStartedInContent = false;\n        this._backdrop = clf.createLoader(_element, _viewContainerRef, _renderer);\n    }\n    /**\n     * allows to set modal configuration via element property\n     * @param {?} conf\n     * @return {?}\n     */\n    set config(conf) {\n        this._config = this.getConfig(conf);\n    }\n    /**\n     * @return {?}\n     */\n    get config() {\n        return this._config;\n    }\n    /**\n     * @return {?}\n     */\n    get isShown() {\n        return this._isShown;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted(event) {\n        this.clickStartedInContent = event.target !== this._element.nativeElement;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop(event) {\n        /** @type {?} */\n        const clickedInBackdrop = event.target === this._element.nativeElement && !this.clickStartedInContent;\n        if (this.config.ignoreBackdropClick ||\n            this.config.backdrop === 'static' ||\n            !clickedInBackdrop) {\n            this.clickStartedInContent = false;\n            return;\n        }\n        this.dismissReason = DISMISS_REASONS.BACKRDOP;\n        this.hide(event);\n    }\n    // todo: consider preventing default and stopping propagation\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc(event) {\n        if (!this._isShown) {\n            return;\n        }\n        // tslint:disable-next-line:deprecation\n        if (event.keyCode === 27 || event.key === 'Escape') {\n            event.preventDefault();\n        }\n        if (this.config.keyboard) {\n            this.dismissReason = DISMISS_REASONS.ESC;\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.config = void 0;\n        if (this._isShown) {\n            this._isShown = false;\n            this.hideModal();\n            this._backdrop.dispose();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this._config = this._config || this.getConfig();\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            if (this._config.show) {\n                this.show();\n            }\n        }), 0);\n    }\n    /* Public methods */\n    /**\n     * Allows to manually toggle modal visibility\n     * @return {?}\n     */\n    toggle() {\n        return this._isShown ? this.hide() : this.show();\n    }\n    /**\n     * Allows to manually open modal\n     * @return {?}\n     */\n    show() {\n        this.dismissReason = null;\n        this.onShow.emit(this);\n        if (this._isShown) {\n            return;\n        }\n        clearTimeout(this.timerHideModal);\n        clearTimeout(this.timerRmBackDrop);\n        this._isShown = true;\n        this.checkScrollbar();\n        this.setScrollbar();\n        if (document$1 && document$1.body) {\n            if (document$1.body.classList.contains(CLASS_NAME.OPEN)) {\n                this.isNested = true;\n            }\n            else {\n                this._renderer.addClass(document$1.body, CLASS_NAME.OPEN);\n            }\n        }\n        this.showBackdrop((/**\n         * @return {?}\n         */\n        () => {\n            this.showElement();\n        }));\n    }\n    /**\n     * Allows to manually close modal\n     * @param {?=} event\n     * @return {?}\n     */\n    hide(event) {\n        if (event) {\n            event.preventDefault();\n        }\n        this.onHide.emit(this);\n        // todo: add an option to prevent hiding\n        if (!this._isShown) {\n            return;\n        }\n        window$1.clearTimeout(this.timerHideModal);\n        window$1.clearTimeout(this.timerRmBackDrop);\n        this._isShown = false;\n        this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.IN);\n        if (!isBs3()) {\n            this._renderer.removeClass(this._element.nativeElement, CLASS_NAME.SHOW);\n        }\n        // this._addClassIn = false;\n        if (this._config.animated) {\n            this.timerHideModal = window$1.setTimeout((/**\n             * @return {?}\n             */\n            () => this.hideModal()), TRANSITION_DURATION);\n        }\n        else {\n            this.hideModal();\n        }\n    }\n    /**\n     * Private methods \\@internal\n     * @protected\n     * @param {?=} config\n     * @return {?}\n     */\n    getConfig(config) {\n        return Object.assign({}, modalConfigDefaults, config);\n    }\n    /**\n     *  Show dialog\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    showElement() {\n        // todo: replace this with component loader usage\n        if (!this._element.nativeElement.parentNode ||\n            this._element.nativeElement.parentNode.nodeType !== Node.ELEMENT_NODE) {\n            // don't move modals dom position\n            if (document$1 && document$1.body) {\n                document$1.body.appendChild(this._element.nativeElement);\n            }\n        }\n        this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'false');\n        this._renderer.setAttribute(this._element.nativeElement, 'aria-modal', 'true');\n        this._renderer.setStyle(this._element.nativeElement, 'display', 'block');\n        this._renderer.setProperty(this._element.nativeElement, 'scrollTop', 0);\n        if (this._config.animated) {\n            Utils.reflow(this._element.nativeElement);\n        }\n        // this._addClassIn = true;\n        this._renderer.addClass(this._element.nativeElement, CLASS_NAME.IN);\n        if (!isBs3()) {\n            this._renderer.addClass(this._element.nativeElement, CLASS_NAME.SHOW);\n        }\n        /** @type {?} */\n        const transitionComplete = (/**\n         * @return {?}\n         */\n        () => {\n            if (this._config.focus) {\n                this._element.nativeElement.focus();\n            }\n            this.onShown.emit(this);\n        });\n        if (this._config.animated) {\n            setTimeout(transitionComplete, TRANSITION_DURATION);\n        }\n        else {\n            transitionComplete();\n        }\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    hideModal() {\n        this._renderer.setAttribute(this._element.nativeElement, 'aria-hidden', 'true');\n        this._renderer.setStyle(this._element.nativeElement, 'display', 'none');\n        this.showBackdrop((/**\n         * @return {?}\n         */\n        () => {\n            if (!this.isNested) {\n                if (document$1 && document$1.body) {\n                    this._renderer.removeClass(document$1.body, CLASS_NAME.OPEN);\n                }\n                this.resetScrollbar();\n            }\n            this.resetAdjustments();\n            this.focusOtherModal();\n            this.onHidden.emit(this);\n        }));\n    }\n    // todo: original show was calling a callback when done, but we can use\n    // promise\n    /**\n     * \\@internal\n     * @protected\n     * @param {?=} callback\n     * @return {?}\n     */\n    showBackdrop(callback) {\n        if (this._isShown &&\n            this.config.backdrop &&\n            (!this.backdrop || !this.backdrop.instance.isShown)) {\n            this.removeBackdrop();\n            this._backdrop\n                .attach(ModalBackdropComponent)\n                .to('body')\n                .show({ isAnimated: this._config.animated });\n            this.backdrop = this._backdrop._componentRef;\n            if (!callback) {\n                return;\n            }\n            if (!this._config.animated) {\n                callback();\n                return;\n            }\n            setTimeout(callback, BACKDROP_TRANSITION_DURATION);\n        }\n        else if (!this._isShown && this.backdrop) {\n            this.backdrop.instance.isShown = false;\n            /** @type {?} */\n            const callbackRemove = (/**\n             * @return {?}\n             */\n            () => {\n                this.removeBackdrop();\n                if (callback) {\n                    callback();\n                }\n            });\n            if (this.backdrop.instance.isAnimated) {\n                this.timerRmBackDrop = window$1.setTimeout(callbackRemove, BACKDROP_TRANSITION_DURATION);\n            }\n            else {\n                callbackRemove();\n            }\n        }\n        else if (callback) {\n            callback();\n        }\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    removeBackdrop() {\n        this._backdrop.hide();\n    }\n    /**\n     * Events tricks\n     * @protected\n     * @return {?}\n     */\n    // no need for it\n    // protected setEscapeEvent():void {\n    //   if (this._isShown && this._config.keyboard) {\n    //     $(this._element).on(Event.KEYDOWN_DISMISS, (event) => {\n    //       if (event.which === 27) {\n    //         this.hide()\n    //       }\n    //     })\n    //\n    //   } else if (!this._isShown) {\n    //     $(this._element).off(Event.KEYDOWN_DISMISS)\n    //   }\n    // }\n    // protected setResizeEvent():void {\n    // console.log(this.renderer.listenGlobal('', Event.RESIZE));\n    // if (this._isShown) {\n    //   $(window).on(Event.RESIZE, $.proxy(this._handleUpdate, this))\n    // } else {\n    //   $(window).off(Event.RESIZE)\n    // }\n    // }\n    focusOtherModal() {\n        if (this._element.nativeElement.parentElement == null) {\n            return;\n        }\n        /** @type {?} */\n        const otherOpenedModals = this._element.nativeElement.parentElement.querySelectorAll('.in[bsModal]');\n        if (!otherOpenedModals.length) {\n            return;\n        }\n        otherOpenedModals[otherOpenedModals.length - 1].focus();\n    }\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    resetAdjustments() {\n        this._renderer.setStyle(this._element.nativeElement, 'paddingLeft', '');\n        this._renderer.setStyle(this._element.nativeElement, 'paddingRight', '');\n    }\n    /** Scroll bar tricks */\n    /**\n     * \\@internal\n     * @protected\n     * @return {?}\n     */\n    checkScrollbar() {\n        this.isBodyOverflowing = document$1.body.clientWidth < window$1.innerWidth;\n        this.scrollbarWidth = this.getScrollbarWidth();\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    setScrollbar() {\n        if (!document$1) {\n            return;\n        }\n        this.originalBodyPadding = parseInt(window$1\n            .getComputedStyle(document$1.body)\n            .getPropertyValue('padding-right') || 0, 10);\n        if (this.isBodyOverflowing) {\n            document$1.body.style.paddingRight = `${this.originalBodyPadding +\n                this.scrollbarWidth}px`;\n        }\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    resetScrollbar() {\n        document$1.body.style.paddingRight = `${this.originalBodyPadding}px`;\n    }\n    // thx d.walsh\n    /**\n     * @protected\n     * @return {?}\n     */\n    getScrollbarWidth() {\n        /** @type {?} */\n        const scrollDiv = this._renderer.createElement('div');\n        this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n        this._renderer.appendChild(document$1.body, scrollDiv);\n        /** @type {?} */\n        const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        this._renderer.removeChild(document$1.body, scrollDiv);\n        return scrollbarWidth;\n    }\n}\nModalDirective.ɵfac = function ModalDirective_Factory(t) { return new (t || ModalDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ComponentLoaderFactory)); };\nModalDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: ModalDirective, selectors: [[\"\", \"bsModal\", \"\"]], hostBindings: function ModalDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mousedown\", function ModalDirective_mousedown_HostBindingHandler($event) { return ctx.onClickStarted($event); })(\"mouseup\", function ModalDirective_mouseup_HostBindingHandler($event) { return ctx.onClickStop($event); })(\"keydown.esc\", function ModalDirective_keydown_esc_HostBindingHandler($event) { return ctx.onEsc($event); });\n    } }, inputs: { config: \"config\" }, outputs: { onShow: \"onShow\", onShown: \"onShown\", onHide: \"onHide\", onHidden: \"onHidden\" }, exportAs: [\"bs-modal\"] });\n/** @nocollapse */\nModalDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: ViewContainerRef },\n    { type: Renderer2 },\n    { type: ComponentLoaderFactory }\n];\nModalDirective.propDecorators = {\n    config: [{ type: Input }],\n    onShow: [{ type: Output }],\n    onShown: [{ type: Output }],\n    onHide: [{ type: Output }],\n    onHidden: [{ type: Output }],\n    onClickStarted: [{ type: HostListener, args: ['mousedown', ['$event'],] }],\n    onClickStop: [{ type: HostListener, args: ['mouseup', ['$event'],] }],\n    onEsc: [{ type: HostListener, args: ['keydown.esc', ['$event'],] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[bsModal]',\n                exportAs: 'bs-modal'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ViewContainerRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc1.ComponentLoaderFactory }]; }, { onShow: [{\n            type: Output\n        }], onShown: [{\n            type: Output\n        }], onHide: [{\n            type: Output\n        }], onHidden: [{\n            type: Output\n        }], config: [{\n            type: Input\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStarted: [{\n            type: HostListener,\n            args: ['mousedown', ['$event']]\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onClickStop: [{\n            type: HostListener,\n            args: ['mouseup', ['$event']]\n        }], \n    // todo: consider preventing default and stopping propagation\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onEsc: [{\n            type: HostListener,\n            args: ['keydown.esc', ['$event']]\n        }] }); })();\nif (false) {\n    /**\n     * This event fires immediately when the `show` instance method is called.\n     * @type {?}\n     */\n    ModalDirective.prototype.onShow;\n    /**\n     * This event is fired when the modal has been made visible to the user\n     * (will wait for CSS transitions to complete)\n     * @type {?}\n     */\n    ModalDirective.prototype.onShown;\n    /**\n     * This event is fired immediately when\n     * the hide instance method has been called.\n     * @type {?}\n     */\n    ModalDirective.prototype.onHide;\n    /**\n     * This event is fired when the modal has finished being\n     * hidden from the user (will wait for CSS transitions to complete).\n     * @type {?}\n     */\n    ModalDirective.prototype.onHidden;\n    /**\n     * This field contains last dismiss reason.\n     * Possible values: `backdrop-click`, `esc` and `null`\n     * (if modal was closed by direct call of `.hide()`).\n     * @type {?}\n     */\n    ModalDirective.prototype.dismissReason;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype._config;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype._isShown;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.isBodyOverflowing;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.originalBodyPadding;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.scrollbarWidth;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.timerHideModal;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.timerRmBackDrop;\n    /**\n     * @type {?}\n     * @protected\n     */\n    ModalDirective.prototype.backdrop;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype._backdrop;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype.isNested;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype.clickStartedInContent;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype._element;\n    /**\n     * @type {?}\n     * @private\n     */\n    ModalDirective.prototype._renderer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass BsModalService {\n    /**\n     * @param {?} rendererFactory\n     * @param {?} clf\n     */\n    constructor(rendererFactory, clf) {\n        this.clf = clf;\n        // constructor props\n        this.config = modalConfigDefaults;\n        // tslint:disable-next-line:no-any\n        this.onShow = new EventEmitter();\n        // tslint:disable-next-line:no-any\n        this.onShown = new EventEmitter();\n        // tslint:disable-next-line:no-any\n        this.onHide = new EventEmitter();\n        // tslint:disable-next-line:no-any\n        this.onHidden = new EventEmitter();\n        this.isBodyOverflowing = false;\n        this.originalBodyPadding = 0;\n        this.scrollbarWidth = 0;\n        this.modalsCount = 0;\n        this.lastDismissReason = '';\n        this.loaders = [];\n        this._backdropLoader = this.clf.createLoader(null, null, null);\n        this._renderer = rendererFactory.createRenderer(null, null);\n    }\n    /**\n     * Shows a modal\n     * @param {?} content\n     * @param {?=} config\n     * @return {?}\n     */\n    // tslint:disable-next-line:no-any\n    show(content, config) {\n        this.modalsCount++;\n        this._createLoaders();\n        this.config = Object.assign({}, modalConfigDefaults, config);\n        this._showBackdrop();\n        this.lastDismissReason = null;\n        return this._showModal(content);\n    }\n    /**\n     * @param {?} level\n     * @return {?}\n     */\n    hide(level) {\n        if (this.modalsCount === 1) {\n            this._hideBackdrop();\n            this.resetScrollbar();\n        }\n        this.modalsCount = this.modalsCount >= 1 ? this.modalsCount - 1 : 0;\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this._hideModal(level);\n            this.removeLoaders(level);\n        }), this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0);\n    }\n    /**\n     * @return {?}\n     */\n    _showBackdrop() {\n        /** @type {?} */\n        const isBackdropEnabled = this.config.backdrop || this.config.backdrop === 'static';\n        /** @type {?} */\n        const isBackdropInDOM = !this.backdropRef || !this.backdropRef.instance.isShown;\n        if (this.modalsCount === 1) {\n            this.removeBackdrop();\n            if (isBackdropEnabled && isBackdropInDOM) {\n                this._backdropLoader\n                    .attach(ModalBackdropComponent)\n                    .to('body')\n                    .show({ isAnimated: this.config.animated });\n                this.backdropRef = this._backdropLoader._componentRef;\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    _hideBackdrop() {\n        if (!this.backdropRef) {\n            return;\n        }\n        this.backdropRef.instance.isShown = false;\n        /** @type {?} */\n        const duration = this.config.animated ? TRANSITION_DURATIONS.BACKDROP : 0;\n        setTimeout((/**\n         * @return {?}\n         */\n        () => this.removeBackdrop()), duration);\n    }\n    // tslint:disable-next-line:no-any\n    /**\n     * @param {?} content\n     * @return {?}\n     */\n    _showModal(content) {\n        /** @type {?} */\n        const modalLoader = this.loaders[this.loaders.length - 1];\n        if (this.config && this.config.providers) {\n            for (const provider of this.config.providers) {\n                modalLoader.provide(provider);\n            }\n        }\n        /** @type {?} */\n        const bsModalRef = new BsModalRef();\n        /** @type {?} */\n        const modalContainerRef = modalLoader\n            .provide({ provide: ModalOptions, useValue: this.config })\n            .provide({ provide: BsModalRef, useValue: bsModalRef })\n            .attach(ModalContainerComponent)\n            .to('body')\n            .show({ content, isAnimated: this.config.animated, initialState: this.config.initialState, bsModalService: this });\n        modalContainerRef.instance.level = this.getModalsCount();\n        bsModalRef.hide = (/**\n         * @return {?}\n         */\n        () => {\n            /** @type {?} */\n            const duration = this.config.animated ? TRANSITION_DURATIONS.MODAL : 0;\n            setTimeout((/**\n             * @return {?}\n             */\n            () => modalContainerRef.instance.hide()), duration);\n        });\n        bsModalRef.content = modalLoader.getInnerComponent() || null;\n        bsModalRef.setClass = (/**\n         * @param {?} newClass\n         * @return {?}\n         */\n        (newClass) => {\n            modalContainerRef.instance.config.class = newClass;\n        });\n        return bsModalRef;\n    }\n    /**\n     * @param {?} level\n     * @return {?}\n     */\n    _hideModal(level) {\n        /** @type {?} */\n        const modalLoader = this.loaders[level - 1];\n        if (modalLoader) {\n            modalLoader.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    getModalsCount() {\n        return this.modalsCount;\n    }\n    /**\n     * @param {?} reason\n     * @return {?}\n     */\n    setDismissReason(reason) {\n        this.lastDismissReason = reason;\n    }\n    /**\n     * @return {?}\n     */\n    removeBackdrop() {\n        this._backdropLoader.hide();\n        this.backdropRef = null;\n    }\n    /** Checks if the body is overflowing and sets scrollbar width */\n    /**\n     * \\@internal\n     * @return {?}\n     */\n    checkScrollbar() {\n        this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\n        this.scrollbarWidth = this.getScrollbarWidth();\n    }\n    /**\n     * @return {?}\n     */\n    setScrollbar() {\n        if (!document) {\n            return;\n        }\n        this.originalBodyPadding = parseInt(window\n            .getComputedStyle(document.body)\n            .getPropertyValue('padding-right') || '0', 10);\n        if (this.isBodyOverflowing) {\n            document.body.style.paddingRight = `${this.originalBodyPadding +\n                this.scrollbarWidth}px`;\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    resetScrollbar() {\n        document.body.style.paddingRight = `${this.originalBodyPadding}px`;\n    }\n    // thx d.walsh\n    /**\n     * @private\n     * @return {?}\n     */\n    getScrollbarWidth() {\n        /** @type {?} */\n        const scrollDiv = this._renderer.createElement('div');\n        this._renderer.addClass(scrollDiv, CLASS_NAME.SCROLLBAR_MEASURER);\n        this._renderer.appendChild(document.body, scrollDiv);\n        /** @type {?} */\n        const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        this._renderer.removeChild(document.body, scrollDiv);\n        return scrollbarWidth;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _createLoaders() {\n        /** @type {?} */\n        const loader = this.clf.createLoader(null, null, null);\n        this.copyEvent(loader.onBeforeShow, this.onShow);\n        this.copyEvent(loader.onShown, this.onShown);\n        this.copyEvent(loader.onBeforeHide, this.onHide);\n        this.copyEvent(loader.onHidden, this.onHidden);\n        this.loaders.push(loader);\n    }\n    /**\n     * @private\n     * @param {?} level\n     * @return {?}\n     */\n    removeLoaders(level) {\n        this.loaders.splice(level - 1, 1);\n        this.loaders.forEach((/**\n         * @param {?} loader\n         * @param {?} i\n         * @return {?}\n         */\n        (loader, i) => {\n            loader.instance.level = i + 1;\n        }));\n    }\n    // tslint:disable-next-line:no-any\n    /**\n     * @private\n     * @param {?} from\n     * @param {?} to\n     * @return {?}\n     */\n    copyEvent(from, to) {\n        from.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            to.emit(this.lastDismissReason);\n        }));\n    }\n}\nBsModalService.ɵfac = function BsModalService_Factory(t) { return new (t || BsModalService)(ɵngcc0.ɵɵinject(ɵngcc0.RendererFactory2), ɵngcc0.ɵɵinject(ɵngcc1.ComponentLoaderFactory)); };\nBsModalService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: BsModalService, factory: BsModalService.ɵfac });\n/** @nocollapse */\nBsModalService.ctorParameters = () => [\n    { type: RendererFactory2 },\n    { type: ComponentLoaderFactory }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsModalService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.RendererFactory2 }, { type: ɵngcc1.ComponentLoaderFactory }]; }, null); })();\nif (false) {\n    /** @type {?} */\n    BsModalService.prototype.config;\n    /** @type {?} */\n    BsModalService.prototype.onShow;\n    /** @type {?} */\n    BsModalService.prototype.onShown;\n    /** @type {?} */\n    BsModalService.prototype.onHide;\n    /** @type {?} */\n    BsModalService.prototype.onHidden;\n    /**\n     * @type {?}\n     * @protected\n     */\n    BsModalService.prototype.isBodyOverflowing;\n    /**\n     * @type {?}\n     * @protected\n     */\n    BsModalService.prototype.originalBodyPadding;\n    /**\n     * @type {?}\n     * @protected\n     */\n    BsModalService.prototype.scrollbarWidth;\n    /**\n     * @type {?}\n     * @protected\n     */\n    BsModalService.prototype.backdropRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype._backdropLoader;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype.modalsCount;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype.lastDismissReason;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype.loaders;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype._renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsModalService.prototype.clf;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ModalModule {\n    /**\n     * @return {?}\n     */\n    static forRoot() {\n        return {\n            ngModule: ModalModule,\n            providers: [BsModalService, ComponentLoaderFactory, PositioningService]\n        };\n    }\n    /**\n     * @return {?}\n     */\n    static forChild() {\n        return {\n            ngModule: ModalModule,\n            providers: [BsModalService, ComponentLoaderFactory, PositioningService]\n        };\n    }\n}\nModalModule.ɵfac = function ModalModule_Factory(t) { return new (t || ModalModule)(); };\nModalModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: ModalModule });\nModalModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({});\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ModalModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    ModalBackdropComponent,\n                    ModalDirective,\n                    ModalContainerComponent\n                ],\n                exports: [ModalBackdropComponent, ModalDirective],\n                entryComponents: [ModalBackdropComponent, ModalContainerComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ModalModule, { declarations: [ModalBackdropComponent, ModalDirective, ModalContainerComponent], exports: [ModalBackdropComponent, ModalDirective] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { BsModalRef, BsModalService, ModalBackdropComponent, ModalBackdropOptions, ModalContainerComponent, ModalDirective, ModalModule, ModalOptions, CLASS_NAME as ɵa };\n\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,SAAS,EAAEC,UAAU,EAAEC,SAAS,EAAEC,YAAY,EAAEC,YAAY,EAAEC,SAAS,EAAEC,gBAAgB,EAAEC,KAAK,EAAEC,MAAM,EAAEC,gBAAgB,EAAEC,QAAQ,QAAQ,eAAe;AAChL,SAASC,KAAK,EAAEC,KAAK,EAAEC,QAAQ,IAAIC,UAAU,EAAEC,MAAM,IAAIC,QAAQ,QAAQ,qBAAqB;AAC9F,SAASC,sBAAsB,QAAQ,gCAAgC;AACvE,SAASC,kBAAkB,QAAQ,2BAA2B;;AAE9D;AACA;AACA;AACA;AACA,OAAO,KAAKC,MAAM,MAAM,eAAe;AACvC,OAAO,KAAKC,MAAM,MAAM,gCAAgC;AAExD,MAAMC,GAAG,GAAG,CAAC,GAAG,CAAC;AACjB,MAAMC,UAAU,CAAC;EACbC,WAAW,GAAG;IACV;AACR;AACA;IACQ,IAAI,CAACC,IAAI,GAAGC,QAAQ;IACpB;AACR;AACA;IACQ,IAAI,CAACC,QAAQ,GAAGD,QAAQ;EAC5B;AACJ;AACAH,UAAU,CAACK,IAAI,GAAG,SAASC,kBAAkB,CAACC,CAAC,EAAE;EAAE,OAAO,KAAKA,CAAC,IAAIP,UAAU,GAAG;AAAE,CAAC;AACpFA,UAAU,CAACQ,KAAK,GAAG,aAAcX,MAAM,CAACY,kBAAkB,CAAC;EAAEC,KAAK,EAAEV,UAAU;EAAEW,OAAO,EAAEX,UAAU,CAACK;AAAK,CAAC,CAAC;AAC3G,CAAC,YAAY;EAAE,CAAC,OAAOO,SAAS,KAAK,WAAW,IAAIA,SAAS,KAAKf,MAAM,CAACgB,iBAAiB,CAACb,UAAU,EAAE,CAAC;IAChGc,IAAI,EAAErC;EACV,CAAC,CAAC,EAAE,YAAY;IAAE,OAAO,EAAE;EAAE,CAAC,EAAE,IAAI,CAAC;AAAE,CAAC,GAAG;AAC/C,IAAI,KAAK,EAAE;EACP;AACJ;AACA;AACA;EACIuB,UAAU,CAACe,SAAS,CAACC,OAAO;EAC5B;AACJ;AACA;AACA;EACIhB,UAAU,CAACe,SAAS,CAACb,IAAI;EACzB;AACJ;AACA;AACA;EACIF,UAAU,CAACe,SAAS,CAACX,QAAQ;AACjC;;AAEA;AACA;AACA;AACA;AACA,MAAMa,oBAAoB,CAAC;EACvB;AACJ;AACA;EACIhB,WAAW,CAACiB,OAAO,EAAE;IACjB,IAAI,CAACC,OAAO,GAAG,IAAI;IACnBC,MAAM,CAACC,MAAM,CAAC,IAAI,EAAEH,OAAO,CAAC;EAChC;AACJ;AACA,IAAI,KAAK,EAAE;EACP;EACAD,oBAAoB,CAACF,SAAS,CAACI,OAAO;AAC1C;;AAEA;AACA;AACA;AACA;AACA,MAAMG,YAAY,CAAC;AAEnBA,YAAY,CAACjB,IAAI,GAAG,SAASkB,oBAAoB,CAAChB,CAAC,EAAE;EAAE,OAAO,KAAKA,CAAC,IAAIe,YAAY,GAAG;AAAE,CAAC;AAC1FA,YAAY,CAACd,KAAK,GAAG,aAAcX,MAAM,CAACY,kBAAkB,CAAC;EAAEC,KAAK,EAAEY,YAAY;EAAEX,OAAO,EAAEW,YAAY,CAACjB;AAAK,CAAC,CAAC;AACjH,CAAC,YAAY;EAAE,CAAC,OAAOO,SAAS,KAAK,WAAW,IAAIA,SAAS,KAAKf,MAAM,CAACgB,iBAAiB,CAACS,YAAY,EAAE,CAAC;IAClGR,IAAI,EAAErC;EACV,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;AAAE,CAAC,GAAG;AACzB,IAAI,KAAK,EAAE;EACP;AACJ;AACA;AACA;AACA;EACI6C,YAAY,CAACP,SAAS,CAACS,QAAQ;EAC/B;AACJ;AACA;AACA;EACIF,YAAY,CAACP,SAAS,CAACU,QAAQ;EAC/B;EACAH,YAAY,CAACP,SAAS,CAACW,KAAK;EAC5B;AACJ;AACA;AACA;EACIJ,YAAY,CAACP,SAAS,CAACY,IAAI;EAC3B;AACJ;AACA;AACA;EACIL,YAAY,CAACP,SAAS,CAACa,mBAAmB;EAC1C;AACJ;AACA;AACA;EACIN,YAAY,CAACP,SAAS,CAACc,KAAK;EAC5B;AACJ;AACA;AACA;EACIP,YAAY,CAACP,SAAS,CAACe,QAAQ;EAC/B;AACJ;AACA;AACA;EACIR,YAAY,CAACP,SAAS,CAACgB,YAAY;EACnC;AACJ;AACA;AACA;EACIT,YAAY,CAACP,SAAS,CAACiB,SAAS;EAChC;AACJ;AACA;AACA;EACIV,YAAY,CAACP,SAAS,CAACkB,cAAc;EACrC;AACJ;AACA;AACA;EACIX,YAAY,CAACP,SAAS,CAACmB,eAAe;AAC1C;AACA;AACA,MAAMC,mBAAmB,GAAG;EACxBX,QAAQ,EAAE,IAAI;EACdC,QAAQ,EAAE,IAAI;EACdC,KAAK,EAAE,IAAI;EACXC,IAAI,EAAE,KAAK;EACXC,mBAAmB,EAAE,KAAK;EAC1BC,KAAK,EAAE,EAAE;EACTC,QAAQ,EAAE,IAAI;EACdC,YAAY,EAAE,CAAC;AACnB,CAAC;AACD;AACA,MAAMK,UAAU,GAAG;EACfC,kBAAkB,EAAE,yBAAyB;EAC7CC,QAAQ,EAAE,gBAAgB;EAC1BC,IAAI,EAAE,YAAY;EAClBC,IAAI,EAAE,MAAM;EACZC,EAAE,EAAE,IAAI;EACR;EACAC,IAAI,EAAE,MAAM,CAAC;AACjB,CAAC;AACD;AACA,MAAMC,QAAQ,GAAG;EACbC,MAAM,EAAE,eAAe;EACvBC,WAAW,EAAE,uBAAuB;EACpCC,YAAY,EAAE,wBAAwB;EACtCC,aAAa,EAAE;AACnB,CAAC;AACD;AACA,MAAMC,oBAAoB,GAAG;EACzBC,KAAK,EAAE,GAAG;EACVX,QAAQ,EAAE;AACd,CAAC;AACD;AACA,MAAMY,eAAe,GAAG;EACpBC,QAAQ,EAAE,gBAAgB;EAC1BC,GAAG,EAAE;AACT,CAAC;;AAED;AACA;AACA;AACA;AACA,MAAMC,uBAAuB,CAAC;EAC1B;AACJ;AACA;AACA;AACA;EACIpD,WAAW,CAACiB,OAAO,EAAEoC,QAAQ,EAAEC,SAAS,EAAE;IACtC,IAAI,CAACD,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACC,OAAO,GAAG,KAAK;IACpB,IAAI,CAACC,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACC,qBAAqB,GAAG,KAAK;IAClC,IAAI,CAACC,MAAM,GAAGvC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEH,OAAO,CAAC;EAC5C;EACA;AACJ;AACA;EACI0C,QAAQ,GAAG;IACP,IAAI,IAAI,CAACC,UAAU,EAAE;MACjB,IAAI,CAACN,SAAS,CAACO,QAAQ,CAAC,IAAI,CAACR,QAAQ,CAACS,aAAa,EAAE3B,UAAU,CAACI,IAAI,CAAC;IACzE;IACA,IAAI,CAACe,SAAS,CAACS,QAAQ,CAAC,IAAI,CAACV,QAAQ,CAACS,aAAa,EAAE,SAAS,EAAE,OAAO,CAAC;IACxEE,UAAU;IAAE;AACpB;AACA;IACQ,MAAM;MACF,IAAI,CAACT,OAAO,GAAG,IAAI;MACnB,IAAI,CAACD,SAAS,CAACO,QAAQ,CAAC,IAAI,CAACR,QAAQ,CAACS,aAAa,EAAE1E,KAAK,EAAE,GAAG+C,UAAU,CAACK,EAAE,GAAGL,UAAU,CAACM,IAAI,CAAC;IACnG,CAAC,EAAG,IAAI,CAACmB,UAAU,GAAGb,oBAAoB,CAACV,QAAQ,GAAG,CAAC,CAAC;IACxD,IAAI/C,QAAQ,IAAIA,QAAQ,CAAC2E,IAAI,EAAE;MAC3B,IAAI,IAAI,CAACC,cAAc,CAACC,cAAc,EAAE,KAAK,CAAC,EAAE;QAC5C,IAAI,CAACD,cAAc,CAACE,cAAc,EAAE;QACpC,IAAI,CAACF,cAAc,CAACG,YAAY,EAAE;MACtC;MACA,IAAI,CAACf,SAAS,CAACO,QAAQ,CAACvE,QAAQ,CAAC2E,IAAI,EAAE9B,UAAU,CAACG,IAAI,CAAC;IAC3D;IACA,IAAI,IAAI,CAACe,QAAQ,CAACS,aAAa,EAAE;MAC7B,IAAI,CAACT,QAAQ,CAACS,aAAa,CAACrC,KAAK,EAAE;IACvC;EACJ;EACA;AACJ;AACA;AACA;EACI6C,cAAc,CAACC,KAAK,EAAE;IAClB,IAAI,CAACd,qBAAqB,GAAGc,KAAK,CAACC,MAAM,KAAK,IAAI,CAACnB,QAAQ,CAACS,aAAa;EAC7E;EACA;AACJ;AACA;AACA;EACIW,WAAW,CAACF,KAAK,EAAE;IACf;IACA,MAAMG,iBAAiB,GAAGH,KAAK,CAACC,MAAM,KAAK,IAAI,CAACnB,QAAQ,CAACS,aAAa,IAAI,CAAC,IAAI,CAACL,qBAAqB;IACrG,IAAI,IAAI,CAACC,MAAM,CAAC/B,mBAAmB,IAC/B,IAAI,CAAC+B,MAAM,CAACnC,QAAQ,KAAK,QAAQ,IACjC,CAACmD,iBAAiB,EAAE;MACpB,IAAI,CAACjB,qBAAqB,GAAG,KAAK;MAClC;IACJ;IACA,IAAI,CAACS,cAAc,CAACS,gBAAgB,CAAC1B,eAAe,CAACC,QAAQ,CAAC;IAC9D,IAAI,CAACjD,IAAI,EAAE;EACf;EACA;AACJ;AACA;AACA;EACI2E,KAAK,CAACL,KAAK,EAAE;IACT,IAAI,CAAC,IAAI,CAAChB,OAAO,EAAE;MACf;IACJ;IACA;IACA,IAAIgB,KAAK,CAACM,OAAO,KAAK,EAAE,IAAIN,KAAK,CAACO,GAAG,KAAK,QAAQ,EAAE;MAChDP,KAAK,CAACQ,cAAc,EAAE;IAC1B;IACA,IAAI,IAAI,CAACrB,MAAM,CAAClC,QAAQ,IACpB,IAAI,CAACwD,KAAK,KAAK,IAAI,CAACd,cAAc,CAACC,cAAc,EAAE,EAAE;MACrD,IAAI,CAACD,cAAc,CAACS,gBAAgB,CAAC1B,eAAe,CAACE,GAAG,CAAC;MACzD,IAAI,CAAClD,IAAI,EAAE;IACf;EACJ;EACA;AACJ;AACA;EACIgF,WAAW,GAAG;IACV,IAAI,IAAI,CAAC1B,OAAO,EAAE;MACd,IAAI,CAACtD,IAAI,EAAE;IACf;EACJ;EACA;AACJ;AACA;EACIA,IAAI,GAAG;IACH,IAAI,IAAI,CAACuD,aAAa,IAAI,CAAC,IAAI,CAACD,OAAO,EAAE;MACrC;IACJ;IACA,IAAI,CAACC,aAAa,GAAG,IAAI;IACzB,IAAI,CAACF,SAAS,CAAC4B,WAAW,CAAC,IAAI,CAAC7B,QAAQ,CAACS,aAAa,EAAE1E,KAAK,EAAE,GAAG+C,UAAU,CAACK,EAAE,GAAGL,UAAU,CAACM,IAAI,CAAC;IAClGuB,UAAU;IAAE;AACpB;AACA;IACQ,MAAM;MACF,IAAI,CAACT,OAAO,GAAG,KAAK;MACpB,IAAIjE,QAAQ,IACRA,QAAQ,CAAC2E,IAAI,IACb,IAAI,CAACC,cAAc,CAACC,cAAc,EAAE,KAAK,CAAC,EAAE;QAC5C,IAAI,CAACb,SAAS,CAAC4B,WAAW,CAAC5F,QAAQ,CAAC2E,IAAI,EAAE9B,UAAU,CAACG,IAAI,CAAC;MAC9D;MACA,IAAI,CAAC4B,cAAc,CAACjE,IAAI,CAAC,IAAI,CAAC+E,KAAK,CAAC;MACpC,IAAI,CAACxB,aAAa,GAAG,KAAK;IAC9B,CAAC,EAAG,IAAI,CAACI,UAAU,GAAGb,oBAAoB,CAACC,KAAK,GAAG,CAAC,CAAC;EACzD;AACJ;AACAI,uBAAuB,CAAChD,IAAI,GAAG,SAAS+E,+BAA+B,CAAC7E,CAAC,EAAE;EAAE,OAAO,KAAKA,CAAC,IAAI8C,uBAAuB,EAAExD,MAAM,CAACwF,iBAAiB,CAAC/D,YAAY,CAAC,EAAEzB,MAAM,CAACwF,iBAAiB,CAACxF,MAAM,CAAClB,UAAU,CAAC,EAAEkB,MAAM,CAACwF,iBAAiB,CAACxF,MAAM,CAACjB,SAAS,CAAC,CAAC;AAAE,CAAC;AAC1PyE,uBAAuB,CAACiC,IAAI,GAAG,aAAczF,MAAM,CAAC0F,iBAAiB,CAAC;EAAEzE,IAAI,EAAEuC,uBAAuB;EAAEmC,SAAS,EAAE,CAAC,CAAC,iBAAiB,CAAC,CAAC;EAAEC,SAAS,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,EAAE,OAAO,CAAC;EAAEC,QAAQ,EAAE,CAAC;EAAEC,YAAY,EAAE,SAASC,oCAAoC,CAACC,EAAE,EAAEC,GAAG,EAAE;IAAE,IAAID,EAAE,GAAG,CAAC,EAAE;MAC9RhG,MAAM,CAACkG,UAAU,CAAC,WAAW,EAAE,SAASC,oDAAoD,CAACC,MAAM,EAAE;QAAE,OAAOH,GAAG,CAACvB,cAAc,CAAC0B,MAAM,CAAC;MAAE,CAAC,CAAC,CAAC,SAAS,EAAE,SAASC,kDAAkD,CAACD,MAAM,EAAE;QAAE,OAAOH,GAAG,CAACpB,WAAW,CAACuB,MAAM,CAAC;MAAE,CAAC,CAAC,CAAC,aAAa,EAAE,SAASE,sDAAsD,CAACF,MAAM,EAAE;QAAE,OAAOH,GAAG,CAACjB,KAAK,CAACoB,MAAM,CAAC;MAAE,CAAC,EAAE,KAAK,EAAEpG,MAAM,CAACuG,eAAe,CAAC;IACzZ;IAAE,IAAIP,EAAE,GAAG,CAAC,EAAE;MACVhG,MAAM,CAACwG,WAAW,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,iBAAiB,EAAEP,GAAG,CAACnC,MAAM,CAAC1B,cAAc,CAAC,CAAC,kBAAkB,EAAE6D,GAAG,CAACnC,MAAM,CAACzB,eAAe,CAAC;IACxI;EAAE,CAAC;EAAEoE,kBAAkB,EAAEvG,GAAG;EAAEwG,KAAK,EAAE,CAAC;EAAEC,IAAI,EAAE,CAAC;EAAEC,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC;EAAEC,QAAQ,EAAE,SAASC,gCAAgC,CAACd,EAAE,EAAEC,GAAG,EAAE;IAAE,IAAID,EAAE,GAAG,CAAC,EAAE;MAC9KhG,MAAM,CAAC+G,eAAe,EAAE;MACxB/G,MAAM,CAACgH,cAAc,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;MAC/ChH,MAAM,CAACiH,YAAY,CAAC,CAAC,CAAC;MACtBjH,MAAM,CAACkH,YAAY,EAAE,EAAE;IAC3B;IAAE,IAAIlB,EAAE,GAAG,CAAC,EAAE;MACVhG,MAAM,CAACmH,UAAU,CAAC,cAAc,IAAIlB,GAAG,CAACnC,MAAM,CAAC9B,KAAK,GAAG,GAAG,GAAGiE,GAAG,CAACnC,MAAM,CAAC9B,KAAK,GAAG,EAAE,CAAC,CAAC;IACxF;EAAE,CAAC;EAAEoF,aAAa,EAAE;AAAE,CAAC,CAAC;AAC5B;AACA5D,uBAAuB,CAAC6D,cAAc,GAAG,MAAM,CAC3C;EAAEpG,IAAI,EAAEQ;AAAa,CAAC,EACtB;EAAER,IAAI,EAAEnC;AAAW,CAAC,EACpB;EAAEmC,IAAI,EAAElC;AAAU,CAAC,CACtB;AACDyE,uBAAuB,CAAC8D,cAAc,GAAG;EACrC5C,cAAc,EAAE,CAAC;IAAEzD,IAAI,EAAEjC,YAAY;IAAEuI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;EAAG,CAAC,CAAC;EAC1E1C,WAAW,EAAE,CAAC;IAAE5D,IAAI,EAAEjC,YAAY;IAAEuI,IAAI,EAAE,CAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;EAAG,CAAC,CAAC;EACrEvC,KAAK,EAAE,CAAC;IAAE/D,IAAI,EAAEjC,YAAY;IAAEuI,IAAI,EAAE,CAAC,oBAAoB,EAAE,CAAC,QAAQ,CAAC;EAAG,CAAC;AAC7E,CAAC;AACD,CAAC,YAAY;EAAE,CAAC,OAAOxG,SAAS,KAAK,WAAW,IAAIA,SAAS,KAAKf,MAAM,CAACgB,iBAAiB,CAACwC,uBAAuB,EAAE,CAAC;IAC7GvC,IAAI,EAAEpC,SAAS;IACf0I,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,iBAAiB;MAC3BX,QAAQ,EAAG;AAC3B;AACA;AACA;AACA;AACA;AACA,GAAG;MACaY,IAAI,EAAE;QACFzF,KAAK,EAAE,OAAO;QACd0F,IAAI,EAAE,QAAQ;QACdC,QAAQ,EAAE,IAAI;QACd,mBAAmB,EAAE,MAAM;QAC3B,wBAAwB,EAAE,uBAAuB;QACjD,yBAAyB,EAAE;MAC/B;IACJ,CAAC;EACT,CAAC,CAAC,EAAE,YAAY;IAAE,OAAO,CAAC;MAAE1G,IAAI,EAAEQ;IAAa,CAAC,EAAE;MAAER,IAAI,EAAEjB,MAAM,CAAClB;IAAW,CAAC,EAAE;MAAEmC,IAAI,EAAEjB,MAAM,CAACjB;IAAU,CAAC,CAAC;EAAE,CAAC,EAAE;IAC/G;AACJ;AACA;AACA;IACI2F,cAAc,EAAE,CAAC;MACTzD,IAAI,EAAEjC,YAAY;MAClBuI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;IAClC,CAAC,CAAC;IACN;AACJ;AACA;AACA;IACI1C,WAAW,EAAE,CAAC;MACN5D,IAAI,EAAEjC,YAAY;MAClBuI,IAAI,EAAE,CAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;IAChC,CAAC,CAAC;IACN;AACJ;AACA;AACA;IACIvC,KAAK,EAAE,CAAC;MACA/D,IAAI,EAAEjC,YAAY;MAClBuI,IAAI,EAAE,CAAC,oBAAoB,EAAE,CAAC,QAAQ,CAAC;IAC3C,CAAC;EAAE,CAAC,CAAC;AAAE,CAAC,GAAG;AACnB,IAAI,KAAK,EAAE;EACP;EACA/D,uBAAuB,CAACtC,SAAS,CAAC4C,MAAM;EACxC;EACAN,uBAAuB,CAACtC,SAAS,CAACyC,OAAO;EACzC;EACAH,uBAAuB,CAACtC,SAAS,CAACkE,KAAK;EACvC;EACA5B,uBAAuB,CAACtC,SAAS,CAAC8C,UAAU;EAC5C;EACAR,uBAAuB,CAACtC,SAAS,CAACoD,cAAc;EAChD;AACJ;AACA;AACA;EACId,uBAAuB,CAACtC,SAAS,CAAC0C,aAAa;EAC/C;AACJ;AACA;AACA;EACIJ,uBAAuB,CAACtC,SAAS,CAAC2C,qBAAqB;EACvD;AACJ;AACA;AACA;EACIL,uBAAuB,CAACtC,SAAS,CAACuC,QAAQ;EAC1C;AACJ;AACA;AACA;EACID,uBAAuB,CAACtC,SAAS,CAACwC,SAAS;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMkE,sBAAsB,CAAC;EACzB;AACJ;AACA;AACA;EACIxH,WAAW,CAACyH,OAAO,EAAEC,QAAQ,EAAE;IAC3B,IAAI,CAACC,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACF,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;EAC5B;EACA;AACJ;AACA;EACI,IAAI9D,UAAU,GAAG;IACb,OAAO,IAAI,CAACgE,WAAW;EAC3B;EACA;AACJ;AACA;AACA;EACI,IAAIhE,UAAU,CAACiE,KAAK,EAAE;IAClB,IAAI,CAACD,WAAW,GAAGC,KAAK;IACxB;EACJ;EACA;AACJ;AACA;EACI,IAAItE,OAAO,GAAG;IACV,OAAO,IAAI,CAACoE,QAAQ;EACxB;EACA;AACJ;AACA;AACA;EACI,IAAIpE,OAAO,CAACsE,KAAK,EAAE;IACf,IAAI,CAACF,QAAQ,GAAGE,KAAK;IACrB,IAAIA,KAAK,EAAE;MACP,IAAI,CAACH,QAAQ,CAAC7D,QAAQ,CAAC,IAAI,CAAC4D,OAAO,CAAC3D,aAAa,EAAG,GAAE3B,UAAU,CAACK,EAAG,EAAC,CAAC;IAC1E,CAAC,MACI;MACD,IAAI,CAACkF,QAAQ,CAACxC,WAAW,CAAC,IAAI,CAACuC,OAAO,CAAC3D,aAAa,EAAG,GAAE3B,UAAU,CAACK,EAAG,EAAC,CAAC;IAC7E;IACA,IAAI,CAACpD,KAAK,EAAE,EAAE;MACV,IAAIyI,KAAK,EAAE;QACP,IAAI,CAACH,QAAQ,CAAC7D,QAAQ,CAAC,IAAI,CAAC4D,OAAO,CAAC3D,aAAa,EAAG,GAAE3B,UAAU,CAACM,IAAK,EAAC,CAAC;MAC5E,CAAC,MACI;QACD,IAAI,CAACiF,QAAQ,CAACxC,WAAW,CAAC,IAAI,CAACuC,OAAO,CAAC3D,aAAa,EAAG,GAAE3B,UAAU,CAACM,IAAK,EAAC,CAAC;MAC/E;IACJ;EACJ;EACA;AACJ;AACA;EACIkB,QAAQ,GAAG;IACP,IAAI,IAAI,CAACC,UAAU,EAAE;MACjB,IAAI,CAAC8D,QAAQ,CAAC7D,QAAQ,CAAC,IAAI,CAAC4D,OAAO,CAAC3D,aAAa,EAAG,GAAE3B,UAAU,CAACI,IAAK,EAAC,CAAC;MACxElD,KAAK,CAACyI,MAAM,CAAC,IAAI,CAACL,OAAO,CAAC3D,aAAa,CAAC;IAC5C;IACA,IAAI,CAACP,OAAO,GAAG,IAAI;EACvB;AACJ;AACAiE,sBAAsB,CAACpH,IAAI,GAAG,SAAS2H,8BAA8B,CAACzH,CAAC,EAAE;EAAE,OAAO,KAAKA,CAAC,IAAIkH,sBAAsB,EAAE5H,MAAM,CAACwF,iBAAiB,CAACxF,MAAM,CAAClB,UAAU,CAAC,EAAEkB,MAAM,CAACwF,iBAAiB,CAACxF,MAAM,CAACjB,SAAS,CAAC,CAAC;AAAE,CAAC;AAC/M6I,sBAAsB,CAACnC,IAAI,GAAG,aAAczF,MAAM,CAAC0F,iBAAiB,CAAC;EAAEzE,IAAI,EAAE2G,sBAAsB;EAAEjC,SAAS,EAAE,CAAC,CAAC,mBAAmB,CAAC,CAAC;EAAEC,SAAS,EAAE,CAAC,CAAC,EAAE,gBAAgB,CAAC;EAAEc,KAAK,EAAE,CAAC;EAAEC,IAAI,EAAE,CAAC;EAAEE,QAAQ,EAAE,SAASuB,+BAA+B,CAACpC,EAAE,EAAEC,GAAG,EAAE,CAAE,CAAC;EAAEmB,aAAa,EAAE;AAAE,CAAC,CAAC;AAClR;AACAQ,sBAAsB,CAACP,cAAc,GAAG,MAAM,CAC1C;EAAEpG,IAAI,EAAEnC;AAAW,CAAC,EACpB;EAAEmC,IAAI,EAAElC;AAAU,CAAC,CACtB;AACD,CAAC,YAAY;EAAE,CAAC,OAAOgC,SAAS,KAAK,WAAW,IAAIA,SAAS,KAAKf,MAAM,CAACgB,iBAAiB,CAAC4G,sBAAsB,EAAE,CAAC;IAC5G3G,IAAI,EAAEpC,SAAS;IACf0I,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,mBAAmB;MAC7BX,QAAQ,EAAE,GAAG;MACbY,IAAI,EAAE;QAAEzF,KAAK,EAAEO,UAAU,CAACE;MAAS;IACvC,CAAC;EACT,CAAC,CAAC,EAAE,YAAY;IAAE,OAAO,CAAC;MAAExB,IAAI,EAAEjB,MAAM,CAAClB;IAAW,CAAC,EAAE;MAAEmC,IAAI,EAAEjB,MAAM,CAACjB;IAAU,CAAC,CAAC;EAAE,CAAC,EAAE,IAAI,CAAC;AAAE,CAAC,GAAG;AACtG,IAAI,KAAK,EAAE;EACP;EACA6I,sBAAsB,CAAC1G,SAAS,CAAC2G,OAAO;EACxC;EACAD,sBAAsB,CAAC1G,SAAS,CAAC4G,QAAQ;EACzC;AACJ;AACA;AACA;EACIF,sBAAsB,CAAC1G,SAAS,CAAC8G,WAAW;EAC5C;AACJ;AACA;AACA;EACIJ,sBAAsB,CAAC1G,SAAS,CAAC6G,QAAQ;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAMM,mBAAmB,GAAG,GAAG;AAC/B;AACA,MAAMC,4BAA4B,GAAG,GAAG;AACxC;AACA;AACA;AACA,MAAMC,cAAc,CAAC;EACjB;AACJ;AACA;AACA;AACA;AACA;EACInI,WAAW,CAACqD,QAAQ,EAAE+E,iBAAiB,EAAE9E,SAAS,EAAE+E,GAAG,EAAE;IACrD,IAAI,CAAChF,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,SAAS,GAAGA,SAAS;IAC1B;AACR;AACA;IACQ,IAAI,CAACgF,MAAM,GAAG,IAAIzJ,YAAY,EAAE;IAChC;AACR;AACA;AACA;IACQ,IAAI,CAAC0J,OAAO,GAAG,IAAI1J,YAAY,EAAE;IACjC;AACR;AACA;AACA;IACQ,IAAI,CAAC2J,MAAM,GAAG,IAAI3J,YAAY,EAAE;IAChC;AACR;AACA;AACA;IACQ,IAAI,CAAC4J,QAAQ,GAAG,IAAI5J,YAAY,EAAE;IAClC,IAAI,CAAC8I,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACe,iBAAiB,GAAG,KAAK;IAC9B,IAAI,CAACC,mBAAmB,GAAG,CAAC;IAC5B,IAAI,CAACC,cAAc,GAAG,CAAC;IACvB,IAAI,CAACC,cAAc,GAAG,CAAC;IACvB,IAAI,CAACC,eAAe,GAAG,CAAC;IACxB,IAAI,CAACC,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACtF,qBAAqB,GAAG,KAAK;IAClC,IAAI,CAACuF,SAAS,GAAGX,GAAG,CAACY,YAAY,CAAC5F,QAAQ,EAAE+E,iBAAiB,EAAE9E,SAAS,CAAC;EAC7E;EACA;AACJ;AACA;AACA;AACA;EACI,IAAII,MAAM,CAACwF,IAAI,EAAE;IACb,IAAI,CAACC,OAAO,GAAG,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC;EACvC;EACA;AACJ;AACA;EACI,IAAIxF,MAAM,GAAG;IACT,OAAO,IAAI,CAACyF,OAAO;EACvB;EACA;AACJ;AACA;EACI,IAAI5F,OAAO,GAAG;IACV,OAAO,IAAI,CAACoE,QAAQ;EACxB;EACA;AACJ;AACA;AACA;EACIrD,cAAc,CAACC,KAAK,EAAE;IAClB,IAAI,CAACd,qBAAqB,GAAGc,KAAK,CAACC,MAAM,KAAK,IAAI,CAACnB,QAAQ,CAACS,aAAa;EAC7E;EACA;AACJ;AACA;AACA;EACIW,WAAW,CAACF,KAAK,EAAE;IACf;IACA,MAAMG,iBAAiB,GAAGH,KAAK,CAACC,MAAM,KAAK,IAAI,CAACnB,QAAQ,CAACS,aAAa,IAAI,CAAC,IAAI,CAACL,qBAAqB;IACrG,IAAI,IAAI,CAACC,MAAM,CAAC/B,mBAAmB,IAC/B,IAAI,CAAC+B,MAAM,CAACnC,QAAQ,KAAK,QAAQ,IACjC,CAACmD,iBAAiB,EAAE;MACpB,IAAI,CAACjB,qBAAqB,GAAG,KAAK;MAClC;IACJ;IACA,IAAI,CAAC4F,aAAa,GAAGpG,eAAe,CAACC,QAAQ;IAC7C,IAAI,CAACjD,IAAI,CAACsE,KAAK,CAAC;EACpB;EACA;EACA;AACJ;AACA;AACA;EACIK,KAAK,CAACL,KAAK,EAAE;IACT,IAAI,CAAC,IAAI,CAACoD,QAAQ,EAAE;MAChB;IACJ;IACA;IACA,IAAIpD,KAAK,CAACM,OAAO,KAAK,EAAE,IAAIN,KAAK,CAACO,GAAG,KAAK,QAAQ,EAAE;MAChDP,KAAK,CAACQ,cAAc,EAAE;IAC1B;IACA,IAAI,IAAI,CAACrB,MAAM,CAAClC,QAAQ,EAAE;MACtB,IAAI,CAAC6H,aAAa,GAAGpG,eAAe,CAACE,GAAG;MACxC,IAAI,CAAClD,IAAI,EAAE;IACf;EACJ;EACA;AACJ;AACA;EACIgF,WAAW,GAAG;IACV,IAAI,CAACvB,MAAM,GAAG,KAAK,CAAC;IACpB,IAAI,IAAI,CAACiE,QAAQ,EAAE;MACf,IAAI,CAACA,QAAQ,GAAG,KAAK;MACrB,IAAI,CAAC2B,SAAS,EAAE;MAChB,IAAI,CAACN,SAAS,CAACO,OAAO,EAAE;IAC5B;EACJ;EACA;AACJ;AACA;EACI5F,QAAQ,GAAG;IACP,IAAI,CAACwF,OAAO,GAAG,IAAI,CAACA,OAAO,IAAI,IAAI,CAACC,SAAS,EAAE;IAC/CpF,UAAU;IAAE;AACpB;AACA;IACQ,MAAM;MACF,IAAI,IAAI,CAACmF,OAAO,CAACzH,IAAI,EAAE;QACnB,IAAI,CAACA,IAAI,EAAE;MACf;IACJ,CAAC,EAAG,CAAC,CAAC;EACV;EACA;EACA;AACJ;AACA;AACA;EACI8H,MAAM,GAAG;IACL,OAAO,IAAI,CAAC7B,QAAQ,GAAG,IAAI,CAAC1H,IAAI,EAAE,GAAG,IAAI,CAACyB,IAAI,EAAE;EACpD;EACA;AACJ;AACA;AACA;EACIA,IAAI,GAAG;IACH,IAAI,CAAC2H,aAAa,GAAG,IAAI;IACzB,IAAI,CAACf,MAAM,CAACmB,IAAI,CAAC,IAAI,CAAC;IACtB,IAAI,IAAI,CAAC9B,QAAQ,EAAE;MACf;IACJ;IACA+B,YAAY,CAAC,IAAI,CAACb,cAAc,CAAC;IACjCa,YAAY,CAAC,IAAI,CAACZ,eAAe,CAAC;IAClC,IAAI,CAACnB,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACvD,cAAc,EAAE;IACrB,IAAI,CAACC,YAAY,EAAE;IACnB,IAAI9E,UAAU,IAAIA,UAAU,CAAC0E,IAAI,EAAE;MAC/B,IAAI1E,UAAU,CAAC0E,IAAI,CAAC0F,SAAS,CAACC,QAAQ,CAACzH,UAAU,CAACG,IAAI,CAAC,EAAE;QACrD,IAAI,CAACyG,QAAQ,GAAG,IAAI;MACxB,CAAC,MACI;QACD,IAAI,CAACzF,SAAS,CAACO,QAAQ,CAACtE,UAAU,CAAC0E,IAAI,EAAE9B,UAAU,CAACG,IAAI,CAAC;MAC7D;IACJ;IACA,IAAI,CAACuH,YAAY;IAAE;AAC3B;AACA;IACQ,MAAM;MACF,IAAI,CAACC,WAAW,EAAE;IACtB,CAAC,CAAE;EACP;EACA;AACJ;AACA;AACA;AACA;EACI7J,IAAI,CAACsE,KAAK,EAAE;IACR,IAAIA,KAAK,EAAE;MACPA,KAAK,CAACQ,cAAc,EAAE;IAC1B;IACA,IAAI,CAACyD,MAAM,CAACiB,IAAI,CAAC,IAAI,CAAC;IACtB;IACA,IAAI,CAAC,IAAI,CAAC9B,QAAQ,EAAE;MAChB;IACJ;IACAlI,QAAQ,CAACiK,YAAY,CAAC,IAAI,CAACb,cAAc,CAAC;IAC1CpJ,QAAQ,CAACiK,YAAY,CAAC,IAAI,CAACZ,eAAe,CAAC;IAC3C,IAAI,CAACnB,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACrE,SAAS,CAAC4B,WAAW,CAAC,IAAI,CAAC7B,QAAQ,CAACS,aAAa,EAAE3B,UAAU,CAACK,EAAE,CAAC;IACtE,IAAI,CAACpD,KAAK,EAAE,EAAE;MACV,IAAI,CAACkE,SAAS,CAAC4B,WAAW,CAAC,IAAI,CAAC7B,QAAQ,CAACS,aAAa,EAAE3B,UAAU,CAACM,IAAI,CAAC;IAC5E;IACA;IACA,IAAI,IAAI,CAAC0G,OAAO,CAACtH,QAAQ,EAAE;MACvB,IAAI,CAACgH,cAAc,GAAGpJ,QAAQ,CAACuE,UAAU;MAAE;AACvD;AACA;MACY,MAAM,IAAI,CAACsF,SAAS,EAAE,EAAGrB,mBAAmB,CAAC;IACjD,CAAC,MACI;MACD,IAAI,CAACqB,SAAS,EAAE;IACpB;EACJ;EACA;AACJ;AACA;AACA;AACA;AACA;EACIF,SAAS,CAAC1F,MAAM,EAAE;IACd,OAAOvC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEc,mBAAmB,EAAEwB,MAAM,CAAC;EACzD;EACA;AACJ;AACA;AACA;AACA;AACA;EACIoG,WAAW,GAAG;IACV;IACA,IAAI,CAAC,IAAI,CAACzG,QAAQ,CAACS,aAAa,CAACiG,UAAU,IACvC,IAAI,CAAC1G,QAAQ,CAACS,aAAa,CAACiG,UAAU,CAACC,QAAQ,KAAKC,IAAI,CAACC,YAAY,EAAE;MACvE;MACA,IAAI3K,UAAU,IAAIA,UAAU,CAAC0E,IAAI,EAAE;QAC/B1E,UAAU,CAAC0E,IAAI,CAACkG,WAAW,CAAC,IAAI,CAAC9G,QAAQ,CAACS,aAAa,CAAC;MAC5D;IACJ;IACA,IAAI,CAACR,SAAS,CAAC8G,YAAY,CAAC,IAAI,CAAC/G,QAAQ,CAACS,aAAa,EAAE,aAAa,EAAE,OAAO,CAAC;IAChF,IAAI,CAACR,SAAS,CAAC8G,YAAY,CAAC,IAAI,CAAC/G,QAAQ,CAACS,aAAa,EAAE,YAAY,EAAE,MAAM,CAAC;IAC9E,IAAI,CAACR,SAAS,CAACS,QAAQ,CAAC,IAAI,CAACV,QAAQ,CAACS,aAAa,EAAE,SAAS,EAAE,OAAO,CAAC;IACxE,IAAI,CAACR,SAAS,CAAC+G,WAAW,CAAC,IAAI,CAAChH,QAAQ,CAACS,aAAa,EAAE,WAAW,EAAE,CAAC,CAAC;IACvE,IAAI,IAAI,CAACqF,OAAO,CAACtH,QAAQ,EAAE;MACvBxC,KAAK,CAACyI,MAAM,CAAC,IAAI,CAACzE,QAAQ,CAACS,aAAa,CAAC;IAC7C;IACA;IACA,IAAI,CAACR,SAAS,CAACO,QAAQ,CAAC,IAAI,CAACR,QAAQ,CAACS,aAAa,EAAE3B,UAAU,CAACK,EAAE,CAAC;IACnE,IAAI,CAACpD,KAAK,EAAE,EAAE;MACV,IAAI,CAACkE,SAAS,CAACO,QAAQ,CAAC,IAAI,CAACR,QAAQ,CAACS,aAAa,EAAE3B,UAAU,CAACM,IAAI,CAAC;IACzE;IACA;IACA,MAAM6H,kBAAkB;IAAI;AACpC;AACA;IACQ,MAAM;MACF,IAAI,IAAI,CAACnB,OAAO,CAAC1H,KAAK,EAAE;QACpB,IAAI,CAAC4B,QAAQ,CAACS,aAAa,CAACrC,KAAK,EAAE;MACvC;MACA,IAAI,CAAC8G,OAAO,CAACkB,IAAI,CAAC,IAAI,CAAC;IAC3B,CAAE;IACF,IAAI,IAAI,CAACN,OAAO,CAACtH,QAAQ,EAAE;MACvBmC,UAAU,CAACsG,kBAAkB,EAAErC,mBAAmB,CAAC;IACvD,CAAC,MACI;MACDqC,kBAAkB,EAAE;IACxB;EACJ;EACA;AACJ;AACA;AACA;AACA;EACIhB,SAAS,GAAG;IACR,IAAI,CAAChG,SAAS,CAAC8G,YAAY,CAAC,IAAI,CAAC/G,QAAQ,CAACS,aAAa,EAAE,aAAa,EAAE,MAAM,CAAC;IAC/E,IAAI,CAACR,SAAS,CAACS,QAAQ,CAAC,IAAI,CAACV,QAAQ,CAACS,aAAa,EAAE,SAAS,EAAE,MAAM,CAAC;IACvE,IAAI,CAAC+F,YAAY;IAAE;AAC3B;AACA;IACQ,MAAM;MACF,IAAI,CAAC,IAAI,CAACd,QAAQ,EAAE;QAChB,IAAIxJ,UAAU,IAAIA,UAAU,CAAC0E,IAAI,EAAE;UAC/B,IAAI,CAACX,SAAS,CAAC4B,WAAW,CAAC3F,UAAU,CAAC0E,IAAI,EAAE9B,UAAU,CAACG,IAAI,CAAC;QAChE;QACA,IAAI,CAACiI,cAAc,EAAE;MACzB;MACA,IAAI,CAACC,gBAAgB,EAAE;MACvB,IAAI,CAACC,eAAe,EAAE;MACtB,IAAI,CAAChC,QAAQ,CAACgB,IAAI,CAAC,IAAI,CAAC;IAC5B,CAAC,CAAE;EACP;EACA;EACA;EACA;AACJ;AACA;AACA;AACA;AACA;EACII,YAAY,CAACa,QAAQ,EAAE;IACnB,IAAI,IAAI,CAAC/C,QAAQ,IACb,IAAI,CAACjE,MAAM,CAACnC,QAAQ,KACnB,CAAC,IAAI,CAACA,QAAQ,IAAI,CAAC,IAAI,CAACA,QAAQ,CAACoJ,QAAQ,CAACpH,OAAO,CAAC,EAAE;MACrD,IAAI,CAACqH,cAAc,EAAE;MACrB,IAAI,CAAC5B,SAAS,CACT6B,MAAM,CAACrD,sBAAsB,CAAC,CAC9BsD,EAAE,CAAC,MAAM,CAAC,CACVpJ,IAAI,CAAC;QAAEkC,UAAU,EAAE,IAAI,CAACuF,OAAO,CAACtH;MAAS,CAAC,CAAC;MAChD,IAAI,CAACN,QAAQ,GAAG,IAAI,CAACyH,SAAS,CAAC+B,aAAa;MAC5C,IAAI,CAACL,QAAQ,EAAE;QACX;MACJ;MACA,IAAI,CAAC,IAAI,CAACvB,OAAO,CAACtH,QAAQ,EAAE;QACxB6I,QAAQ,EAAE;QACV;MACJ;MACA1G,UAAU,CAAC0G,QAAQ,EAAExC,4BAA4B,CAAC;IACtD,CAAC,MACI,IAAI,CAAC,IAAI,CAACP,QAAQ,IAAI,IAAI,CAACpG,QAAQ,EAAE;MACtC,IAAI,CAACA,QAAQ,CAACoJ,QAAQ,CAACpH,OAAO,GAAG,KAAK;MACtC;MACA,MAAMyH,cAAc;MAAI;AACpC;AACA;MACY,MAAM;QACF,IAAI,CAACJ,cAAc,EAAE;QACrB,IAAIF,QAAQ,EAAE;UACVA,QAAQ,EAAE;QACd;MACJ,CAAE;MACF,IAAI,IAAI,CAACnJ,QAAQ,CAACoJ,QAAQ,CAAC/G,UAAU,EAAE;QACnC,IAAI,CAACkF,eAAe,GAAGrJ,QAAQ,CAACuE,UAAU,CAACgH,cAAc,EAAE9C,4BAA4B,CAAC;MAC5F,CAAC,MACI;QACD8C,cAAc,EAAE;MACpB;IACJ,CAAC,MACI,IAAIN,QAAQ,EAAE;MACfA,QAAQ,EAAE;IACd;EACJ;EACA;AACJ;AACA;AACA;AACA;EACIE,cAAc,GAAG;IACb,IAAI,CAAC5B,SAAS,CAAC/I,IAAI,EAAE;EACzB;EACA;AACJ;AACA;AACA;AACA;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAwK,eAAe,GAAG;IACd,IAAI,IAAI,CAACpH,QAAQ,CAACS,aAAa,CAACmH,aAAa,IAAI,IAAI,EAAE;MACnD;IACJ;IACA;IACA,MAAMC,iBAAiB,GAAG,IAAI,CAAC7H,QAAQ,CAACS,aAAa,CAACmH,aAAa,CAACE,gBAAgB,CAAC,cAAc,CAAC;IACpG,IAAI,CAACD,iBAAiB,CAACE,MAAM,EAAE;MAC3B;IACJ;IACAF,iBAAiB,CAACA,iBAAiB,CAACE,MAAM,GAAG,CAAC,CAAC,CAAC3J,KAAK,EAAE;EAC3D;EACA;AACJ;AACA;AACA;AACA;EACI+I,gBAAgB,GAAG;IACf,IAAI,CAAClH,SAAS,CAACS,QAAQ,CAAC,IAAI,CAACV,QAAQ,CAACS,aAAa,EAAE,aAAa,EAAE,EAAE,CAAC;IACvE,IAAI,CAACR,SAAS,CAACS,QAAQ,CAAC,IAAI,CAACV,QAAQ,CAACS,aAAa,EAAE,cAAc,EAAE,EAAE,CAAC;EAC5E;EACA;EACA;AACJ;AACA;AACA;AACA;EACIM,cAAc,GAAG;IACb,IAAI,CAACsE,iBAAiB,GAAGnJ,UAAU,CAAC0E,IAAI,CAACoH,WAAW,GAAG5L,QAAQ,CAAC6L,UAAU;IAC1E,IAAI,CAAC1C,cAAc,GAAG,IAAI,CAAC2C,iBAAiB,EAAE;EAClD;EACA;AACJ;AACA;AACA;EACIlH,YAAY,GAAG;IACX,IAAI,CAAC9E,UAAU,EAAE;MACb;IACJ;IACA,IAAI,CAACoJ,mBAAmB,GAAG6C,QAAQ,CAAC/L,QAAQ,CACvCgM,gBAAgB,CAAClM,UAAU,CAAC0E,IAAI,CAAC,CACjCyH,gBAAgB,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;IAChD,IAAI,IAAI,CAAChD,iBAAiB,EAAE;MACxBnJ,UAAU,CAAC0E,IAAI,CAAC0H,KAAK,CAACC,YAAY,GAAI,GAAE,IAAI,CAACjD,mBAAmB,GAC5D,IAAI,CAACC,cAAe,IAAG;IAC/B;EACJ;EACA;AACJ;AACA;AACA;EACI2B,cAAc,GAAG;IACbhL,UAAU,CAAC0E,IAAI,CAAC0H,KAAK,CAACC,YAAY,GAAI,GAAE,IAAI,CAACjD,mBAAoB,IAAG;EACxE;EACA;EACA;AACJ;AACA;AACA;EACI4C,iBAAiB,GAAG;IAChB;IACA,MAAMM,SAAS,GAAG,IAAI,CAACvI,SAAS,CAACwI,aAAa,CAAC,KAAK,CAAC;IACrD,IAAI,CAACxI,SAAS,CAACO,QAAQ,CAACgI,SAAS,EAAE1J,UAAU,CAACC,kBAAkB,CAAC;IACjE,IAAI,CAACkB,SAAS,CAAC6G,WAAW,CAAC5K,UAAU,CAAC0E,IAAI,EAAE4H,SAAS,CAAC;IACtD;IACA,MAAMjD,cAAc,GAAGiD,SAAS,CAACE,WAAW,GAAGF,SAAS,CAACR,WAAW;IACpE,IAAI,CAAC/H,SAAS,CAAC0I,WAAW,CAACzM,UAAU,CAAC0E,IAAI,EAAE4H,SAAS,CAAC;IACtD,OAAOjD,cAAc;EACzB;AACJ;AACAT,cAAc,CAAC/H,IAAI,GAAG,SAAS6L,sBAAsB,CAAC3L,CAAC,EAAE;EAAE,OAAO,KAAKA,CAAC,IAAI6H,cAAc,EAAEvI,MAAM,CAACwF,iBAAiB,CAACxF,MAAM,CAAClB,UAAU,CAAC,EAAEkB,MAAM,CAACwF,iBAAiB,CAACxF,MAAM,CAACb,gBAAgB,CAAC,EAAEa,MAAM,CAACwF,iBAAiB,CAACxF,MAAM,CAACjB,SAAS,CAAC,EAAEiB,MAAM,CAACwF,iBAAiB,CAACvF,MAAM,CAACH,sBAAsB,CAAC,CAAC;AAAE,CAAC;AACnSyI,cAAc,CAAC+D,IAAI,GAAG,aAActM,MAAM,CAACuM,iBAAiB,CAAC;EAAEtL,IAAI,EAAEsH,cAAc;EAAE5C,SAAS,EAAE,CAAC,CAAC,EAAE,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC;EAAEG,YAAY,EAAE,SAAS0G,2BAA2B,CAACxG,EAAE,EAAEC,GAAG,EAAE;IAAE,IAAID,EAAE,GAAG,CAAC,EAAE;MACzLhG,MAAM,CAACkG,UAAU,CAAC,WAAW,EAAE,SAASuG,2CAA2C,CAACrG,MAAM,EAAE;QAAE,OAAOH,GAAG,CAACvB,cAAc,CAAC0B,MAAM,CAAC;MAAE,CAAC,CAAC,CAAC,SAAS,EAAE,SAASsG,yCAAyC,CAACtG,MAAM,EAAE;QAAE,OAAOH,GAAG,CAACpB,WAAW,CAACuB,MAAM,CAAC;MAAE,CAAC,CAAC,CAAC,aAAa,EAAE,SAASuG,6CAA6C,CAACvG,MAAM,EAAE;QAAE,OAAOH,GAAG,CAACjB,KAAK,CAACoB,MAAM,CAAC;MAAE,CAAC,CAAC;IAC/V;EAAE,CAAC;EAAEwG,MAAM,EAAE;IAAE9I,MAAM,EAAE;EAAS,CAAC;EAAE+I,OAAO,EAAE;IAAEnE,MAAM,EAAE,QAAQ;IAAEC,OAAO,EAAE,SAAS;IAAEC,MAAM,EAAE,QAAQ;IAAEC,QAAQ,EAAE;EAAW,CAAC;EAAEiE,QAAQ,EAAE,CAAC,UAAU;AAAE,CAAC,CAAC;AAC3J;AACAvE,cAAc,CAAClB,cAAc,GAAG,MAAM,CAClC;EAAEpG,IAAI,EAAEnC;AAAW,CAAC,EACpB;EAAEmC,IAAI,EAAE9B;AAAiB,CAAC,EAC1B;EAAE8B,IAAI,EAAElC;AAAU,CAAC,EACnB;EAAEkC,IAAI,EAAEnB;AAAuB,CAAC,CACnC;AACDyI,cAAc,CAACjB,cAAc,GAAG;EAC5BxD,MAAM,EAAE,CAAC;IAAE7C,IAAI,EAAE7B;EAAM,CAAC,CAAC;EACzBsJ,MAAM,EAAE,CAAC;IAAEzH,IAAI,EAAE5B;EAAO,CAAC,CAAC;EAC1BsJ,OAAO,EAAE,CAAC;IAAE1H,IAAI,EAAE5B;EAAO,CAAC,CAAC;EAC3BuJ,MAAM,EAAE,CAAC;IAAE3H,IAAI,EAAE5B;EAAO,CAAC,CAAC;EAC1BwJ,QAAQ,EAAE,CAAC;IAAE5H,IAAI,EAAE5B;EAAO,CAAC,CAAC;EAC5BqF,cAAc,EAAE,CAAC;IAAEzD,IAAI,EAAEjC,YAAY;IAAEuI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;EAAG,CAAC,CAAC;EAC1E1C,WAAW,EAAE,CAAC;IAAE5D,IAAI,EAAEjC,YAAY;IAAEuI,IAAI,EAAE,CAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;EAAG,CAAC,CAAC;EACrEvC,KAAK,EAAE,CAAC;IAAE/D,IAAI,EAAEjC,YAAY;IAAEuI,IAAI,EAAE,CAAC,aAAa,EAAE,CAAC,QAAQ,CAAC;EAAG,CAAC;AACtE,CAAC;AACD,CAAC,YAAY;EAAE,CAAC,OAAOxG,SAAS,KAAK,WAAW,IAAIA,SAAS,KAAKf,MAAM,CAACgB,iBAAiB,CAACuH,cAAc,EAAE,CAAC;IACpGtH,IAAI,EAAE/B,SAAS;IACfqI,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,WAAW;MACrBsF,QAAQ,EAAE;IACd,CAAC;EACT,CAAC,CAAC,EAAE,YAAY;IAAE,OAAO,CAAC;MAAE7L,IAAI,EAAEjB,MAAM,CAAClB;IAAW,CAAC,EAAE;MAAEmC,IAAI,EAAEjB,MAAM,CAACb;IAAiB,CAAC,EAAE;MAAE8B,IAAI,EAAEjB,MAAM,CAACjB;IAAU,CAAC,EAAE;MAAEkC,IAAI,EAAEhB,MAAM,CAACH;IAAuB,CAAC,CAAC;EAAE,CAAC,EAAE;IAAE4I,MAAM,EAAE,CAAC;MACtKzH,IAAI,EAAE5B;IACV,CAAC,CAAC;IAAEsJ,OAAO,EAAE,CAAC;MACV1H,IAAI,EAAE5B;IACV,CAAC,CAAC;IAAEuJ,MAAM,EAAE,CAAC;MACT3H,IAAI,EAAE5B;IACV,CAAC,CAAC;IAAEwJ,QAAQ,EAAE,CAAC;MACX5H,IAAI,EAAE5B;IACV,CAAC,CAAC;IAAEyE,MAAM,EAAE,CAAC;MACT7C,IAAI,EAAE7B;IACV,CAAC,CAAC;IACN;AACJ;AACA;AACA;IACIsF,cAAc,EAAE,CAAC;MACTzD,IAAI,EAAEjC,YAAY;MAClBuI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;IAClC,CAAC,CAAC;IACN;AACJ;AACA;AACA;IACI1C,WAAW,EAAE,CAAC;MACN5D,IAAI,EAAEjC,YAAY;MAClBuI,IAAI,EAAE,CAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;IAChC,CAAC,CAAC;IACN;IACA;AACJ;AACA;AACA;IACIvC,KAAK,EAAE,CAAC;MACA/D,IAAI,EAAEjC,YAAY;MAClBuI,IAAI,EAAE,CAAC,aAAa,EAAE,CAAC,QAAQ,CAAC;IACpC,CAAC;EAAE,CAAC,CAAC;AAAE,CAAC,GAAG;AACnB,IAAI,KAAK,EAAE;EACP;AACJ;AACA;AACA;EACIgB,cAAc,CAACrH,SAAS,CAACwH,MAAM;EAC/B;AACJ;AACA;AACA;AACA;EACIH,cAAc,CAACrH,SAAS,CAACyH,OAAO;EAChC;AACJ;AACA;AACA;AACA;EACIJ,cAAc,CAACrH,SAAS,CAAC0H,MAAM;EAC/B;AACJ;AACA;AACA;AACA;EACIL,cAAc,CAACrH,SAAS,CAAC2H,QAAQ;EACjC;AACJ;AACA;AACA;AACA;AACA;EACIN,cAAc,CAACrH,SAAS,CAACuI,aAAa;EACtC;AACJ;AACA;AACA;EACIlB,cAAc,CAACrH,SAAS,CAACqI,OAAO;EAChC;AACJ;AACA;AACA;EACIhB,cAAc,CAACrH,SAAS,CAAC6G,QAAQ;EACjC;AACJ;AACA;AACA;EACIQ,cAAc,CAACrH,SAAS,CAAC4H,iBAAiB;EAC1C;AACJ;AACA;AACA;EACIP,cAAc,CAACrH,SAAS,CAAC6H,mBAAmB;EAC5C;AACJ;AACA;AACA;EACIR,cAAc,CAACrH,SAAS,CAAC8H,cAAc;EACvC;AACJ;AACA;AACA;EACIT,cAAc,CAACrH,SAAS,CAAC+H,cAAc;EACvC;AACJ;AACA;AACA;EACIV,cAAc,CAACrH,SAAS,CAACgI,eAAe;EACxC;AACJ;AACA;AACA;EACIX,cAAc,CAACrH,SAAS,CAACS,QAAQ;EACjC;AACJ;AACA;AACA;EACI4G,cAAc,CAACrH,SAAS,CAACkI,SAAS;EAClC;AACJ;AACA;AACA;EACIb,cAAc,CAACrH,SAAS,CAACiI,QAAQ;EACjC;AACJ;AACA;AACA;EACIZ,cAAc,CAACrH,SAAS,CAAC2C,qBAAqB;EAC9C;AACJ;AACA;AACA;EACI0E,cAAc,CAACrH,SAAS,CAACuC,QAAQ;EACjC;AACJ;AACA;AACA;EACI8E,cAAc,CAACrH,SAAS,CAACwC,SAAS;AACtC;;AAEA;AACA;AACA;AACA;AACA,MAAMqJ,cAAc,CAAC;EACjB;AACJ;AACA;AACA;EACI3M,WAAW,CAAC4M,eAAe,EAAEvE,GAAG,EAAE;IAC9B,IAAI,CAACA,GAAG,GAAGA,GAAG;IACd;IACA,IAAI,CAAC3E,MAAM,GAAGxB,mBAAmB;IACjC;IACA,IAAI,CAACoG,MAAM,GAAG,IAAIzJ,YAAY,EAAE;IAChC;IACA,IAAI,CAAC0J,OAAO,GAAG,IAAI1J,YAAY,EAAE;IACjC;IACA,IAAI,CAAC2J,MAAM,GAAG,IAAI3J,YAAY,EAAE;IAChC;IACA,IAAI,CAAC4J,QAAQ,GAAG,IAAI5J,YAAY,EAAE;IAClC,IAAI,CAAC6J,iBAAiB,GAAG,KAAK;IAC9B,IAAI,CAACC,mBAAmB,GAAG,CAAC;IAC5B,IAAI,CAACC,cAAc,GAAG,CAAC;IACvB,IAAI,CAACiE,WAAW,GAAG,CAAC;IACpB,IAAI,CAACC,iBAAiB,GAAG,EAAE;IAC3B,IAAI,CAACC,OAAO,GAAG,EAAE;IACjB,IAAI,CAACC,eAAe,GAAG,IAAI,CAAC3E,GAAG,CAACY,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;IAC9D,IAAI,CAAC3F,SAAS,GAAGsJ,eAAe,CAACK,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC;EAC/D;EACA;AACJ;AACA;AACA;AACA;AACA;EACI;EACAvL,IAAI,CAACX,OAAO,EAAE2C,MAAM,EAAE;IAClB,IAAI,CAACmJ,WAAW,EAAE;IAClB,IAAI,CAACK,cAAc,EAAE;IACrB,IAAI,CAACxJ,MAAM,GAAGvC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEc,mBAAmB,EAAEwB,MAAM,CAAC;IAC5D,IAAI,CAACyJ,aAAa,EAAE;IACpB,IAAI,CAACL,iBAAiB,GAAG,IAAI;IAC7B,OAAO,IAAI,CAACM,UAAU,CAACrM,OAAO,CAAC;EACnC;EACA;AACJ;AACA;AACA;EACId,IAAI,CAAC+E,KAAK,EAAE;IACR,IAAI,IAAI,CAAC6H,WAAW,KAAK,CAAC,EAAE;MACxB,IAAI,CAACQ,aAAa,EAAE;MACpB,IAAI,CAAC9C,cAAc,EAAE;IACzB;IACA,IAAI,CAACsC,WAAW,GAAG,IAAI,CAACA,WAAW,IAAI,CAAC,GAAG,IAAI,CAACA,WAAW,GAAG,CAAC,GAAG,CAAC;IACnE7I,UAAU;IAAE;AACpB;AACA;IACQ,MAAM;MACF,IAAI,CAACsJ,UAAU,CAACtI,KAAK,CAAC;MACtB,IAAI,CAACuI,aAAa,CAACvI,KAAK,CAAC;IAC7B,CAAC,EAAG,IAAI,CAACtB,MAAM,CAAC7B,QAAQ,GAAGkB,oBAAoB,CAACV,QAAQ,GAAG,CAAC,CAAC;EACjE;EACA;AACJ;AACA;EACI8K,aAAa,GAAG;IACZ;IACA,MAAMK,iBAAiB,GAAG,IAAI,CAAC9J,MAAM,CAACnC,QAAQ,IAAI,IAAI,CAACmC,MAAM,CAACnC,QAAQ,KAAK,QAAQ;IACnF;IACA,MAAMkM,eAAe,GAAG,CAAC,IAAI,CAACC,WAAW,IAAI,CAAC,IAAI,CAACA,WAAW,CAAC/C,QAAQ,CAACpH,OAAO;IAC/E,IAAI,IAAI,CAACsJ,WAAW,KAAK,CAAC,EAAE;MACxB,IAAI,CAACjC,cAAc,EAAE;MACrB,IAAI4C,iBAAiB,IAAIC,eAAe,EAAE;QACtC,IAAI,CAACT,eAAe,CACfnC,MAAM,CAACrD,sBAAsB,CAAC,CAC9BsD,EAAE,CAAC,MAAM,CAAC,CACVpJ,IAAI,CAAC;UAAEkC,UAAU,EAAE,IAAI,CAACF,MAAM,CAAC7B;QAAS,CAAC,CAAC;QAC/C,IAAI,CAAC6L,WAAW,GAAG,IAAI,CAACV,eAAe,CAACjC,aAAa;MACzD;IACJ;EACJ;EACA;AACJ;AACA;EACIsC,aAAa,GAAG;IACZ,IAAI,CAAC,IAAI,CAACK,WAAW,EAAE;MACnB;IACJ;IACA,IAAI,CAACA,WAAW,CAAC/C,QAAQ,CAACpH,OAAO,GAAG,KAAK;IACzC;IACA,MAAMoK,QAAQ,GAAG,IAAI,CAACjK,MAAM,CAAC7B,QAAQ,GAAGkB,oBAAoB,CAACV,QAAQ,GAAG,CAAC;IACzE2B,UAAU;IAAE;AACpB;AACA;IACQ,MAAM,IAAI,CAAC4G,cAAc,EAAE,EAAG+C,QAAQ,CAAC;EAC3C;EACA;EACA;AACJ;AACA;AACA;EACIP,UAAU,CAACrM,OAAO,EAAE;IAChB;IACA,MAAM6M,WAAW,GAAG,IAAI,CAACb,OAAO,CAAC,IAAI,CAACA,OAAO,CAAC3B,MAAM,GAAG,CAAC,CAAC;IACzD,IAAI,IAAI,CAAC1H,MAAM,IAAI,IAAI,CAACA,MAAM,CAAC3B,SAAS,EAAE;MACtC,KAAK,MAAM8L,QAAQ,IAAI,IAAI,CAACnK,MAAM,CAAC3B,SAAS,EAAE;QAC1C6L,WAAW,CAACE,OAAO,CAACD,QAAQ,CAAC;MACjC;IACJ;IACA;IACA,MAAME,UAAU,GAAG,IAAIhO,UAAU,EAAE;IACnC;IACA,MAAMiO,iBAAiB,GAAGJ,WAAW,CAChCE,OAAO,CAAC;MAAEA,OAAO,EAAEzM,YAAY;MAAE4M,QAAQ,EAAE,IAAI,CAACvK;IAAO,CAAC,CAAC,CACzDoK,OAAO,CAAC;MAAEA,OAAO,EAAE/N,UAAU;MAAEkO,QAAQ,EAAEF;IAAW,CAAC,CAAC,CACtDlD,MAAM,CAACzH,uBAAuB,CAAC,CAC/B0H,EAAE,CAAC,MAAM,CAAC,CACVpJ,IAAI,CAAC;MAAEX,OAAO;MAAE6C,UAAU,EAAE,IAAI,CAACF,MAAM,CAAC7B,QAAQ;MAAEC,YAAY,EAAE,IAAI,CAAC4B,MAAM,CAAC5B,YAAY;MAAEoC,cAAc,EAAE;IAAK,CAAC,CAAC;IACtH8J,iBAAiB,CAACrD,QAAQ,CAAC3F,KAAK,GAAG,IAAI,CAACb,cAAc,EAAE;IACxD4J,UAAU,CAAC9N,IAAI;IAAI;AAC3B;AACA;IACQ,MAAM;MACF;MACA,MAAM0N,QAAQ,GAAG,IAAI,CAACjK,MAAM,CAAC7B,QAAQ,GAAGkB,oBAAoB,CAACC,KAAK,GAAG,CAAC;MACtEgB,UAAU;MAAE;AACxB;AACA;MACY,MAAMgK,iBAAiB,CAACrD,QAAQ,CAAC1K,IAAI,EAAE,EAAG0N,QAAQ,CAAC;IACvD,CAAE;IACFI,UAAU,CAAChN,OAAO,GAAG6M,WAAW,CAACM,iBAAiB,EAAE,IAAI,IAAI;IAC5DH,UAAU,CAAC5N,QAAQ;IAAI;AAC/B;AACA;AACA;IACSgO,QAAQ,IAAK;MACVH,iBAAiB,CAACrD,QAAQ,CAACjH,MAAM,CAAC9B,KAAK,GAAGuM,QAAQ;IACtD,CAAE;IACF,OAAOJ,UAAU;EACrB;EACA;AACJ;AACA;AACA;EACIT,UAAU,CAACtI,KAAK,EAAE;IACd;IACA,MAAM4I,WAAW,GAAG,IAAI,CAACb,OAAO,CAAC/H,KAAK,GAAG,CAAC,CAAC;IAC3C,IAAI4I,WAAW,EAAE;MACbA,WAAW,CAAC3N,IAAI,EAAE;IACtB;EACJ;EACA;AACJ;AACA;EACIkE,cAAc,GAAG;IACb,OAAO,IAAI,CAAC0I,WAAW;EAC3B;EACA;AACJ;AACA;AACA;EACIlI,gBAAgB,CAACyJ,MAAM,EAAE;IACrB,IAAI,CAACtB,iBAAiB,GAAGsB,MAAM;EACnC;EACA;AACJ;AACA;EACIxD,cAAc,GAAG;IACb,IAAI,CAACoC,eAAe,CAAC/M,IAAI,EAAE;IAC3B,IAAI,CAACyN,WAAW,GAAG,IAAI;EAC3B;EACA;EACA;AACJ;AACA;AACA;EACItJ,cAAc,GAAG;IACb,IAAI,CAACsE,iBAAiB,GAAGpJ,QAAQ,CAAC2E,IAAI,CAACoH,WAAW,GAAG7L,MAAM,CAAC8L,UAAU;IACtE,IAAI,CAAC1C,cAAc,GAAG,IAAI,CAAC2C,iBAAiB,EAAE;EAClD;EACA;AACJ;AACA;EACIlH,YAAY,GAAG;IACX,IAAI,CAAC/E,QAAQ,EAAE;MACX;IACJ;IACA,IAAI,CAACqJ,mBAAmB,GAAG6C,QAAQ,CAAChM,MAAM,CACrCiM,gBAAgB,CAACnM,QAAQ,CAAC2E,IAAI,CAAC,CAC/ByH,gBAAgB,CAAC,eAAe,CAAC,IAAI,GAAG,EAAE,EAAE,CAAC;IAClD,IAAI,IAAI,CAAChD,iBAAiB,EAAE;MACxBpJ,QAAQ,CAAC2E,IAAI,CAAC0H,KAAK,CAACC,YAAY,GAAI,GAAE,IAAI,CAACjD,mBAAmB,GAC1D,IAAI,CAACC,cAAe,IAAG;IAC/B;EACJ;EACA;AACJ;AACA;AACA;EACI2B,cAAc,GAAG;IACbjL,QAAQ,CAAC2E,IAAI,CAAC0H,KAAK,CAACC,YAAY,GAAI,GAAE,IAAI,CAACjD,mBAAoB,IAAG;EACtE;EACA;EACA;AACJ;AACA;AACA;EACI4C,iBAAiB,GAAG;IAChB;IACA,MAAMM,SAAS,GAAG,IAAI,CAACvI,SAAS,CAACwI,aAAa,CAAC,KAAK,CAAC;IACrD,IAAI,CAACxI,SAAS,CAACO,QAAQ,CAACgI,SAAS,EAAE1J,UAAU,CAACC,kBAAkB,CAAC;IACjE,IAAI,CAACkB,SAAS,CAAC6G,WAAW,CAAC7K,QAAQ,CAAC2E,IAAI,EAAE4H,SAAS,CAAC;IACpD;IACA,MAAMjD,cAAc,GAAGiD,SAAS,CAACE,WAAW,GAAGF,SAAS,CAACR,WAAW;IACpE,IAAI,CAAC/H,SAAS,CAAC0I,WAAW,CAAC1M,QAAQ,CAAC2E,IAAI,EAAE4H,SAAS,CAAC;IACpD,OAAOjD,cAAc;EACzB;EACA;AACJ;AACA;AACA;EACIsE,cAAc,GAAG;IACb;IACA,MAAMmB,MAAM,GAAG,IAAI,CAAChG,GAAG,CAACY,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;IACtD,IAAI,CAACqF,SAAS,CAACD,MAAM,CAACE,YAAY,EAAE,IAAI,CAACjG,MAAM,CAAC;IAChD,IAAI,CAACgG,SAAS,CAACD,MAAM,CAAC9F,OAAO,EAAE,IAAI,CAACA,OAAO,CAAC;IAC5C,IAAI,CAAC+F,SAAS,CAACD,MAAM,CAACG,YAAY,EAAE,IAAI,CAAChG,MAAM,CAAC;IAChD,IAAI,CAAC8F,SAAS,CAACD,MAAM,CAAC5F,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAAC;IAC9C,IAAI,CAACsE,OAAO,CAAC0B,IAAI,CAACJ,MAAM,CAAC;EAC7B;EACA;AACJ;AACA;AACA;AACA;EACId,aAAa,CAACvI,KAAK,EAAE;IACjB,IAAI,CAAC+H,OAAO,CAAC2B,MAAM,CAAC1J,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC;IACjC,IAAI,CAAC+H,OAAO,CAAC4B,OAAO;IAAE;AAC9B;AACA;AACA;AACA;IACQ,CAACN,MAAM,EAAEO,CAAC,KAAK;MACXP,MAAM,CAAC1D,QAAQ,CAAC3F,KAAK,GAAG4J,CAAC,GAAG,CAAC;IACjC,CAAC,CAAE;EACP;EACA;EACA;AACJ;AACA;AACA;AACA;AACA;EACIN,SAAS,CAACO,IAAI,EAAE/D,EAAE,EAAE;IAChB+D,IAAI,CAACC,SAAS;IAAE;AACxB;AACA;IACQ,MAAM;MACFhE,EAAE,CAACrB,IAAI,CAAC,IAAI,CAACqD,iBAAiB,CAAC;IACnC,CAAC,CAAE;EACP;AACJ;AACAH,cAAc,CAACvM,IAAI,GAAG,SAAS2O,sBAAsB,CAACzO,CAAC,EAAE;EAAE,OAAO,KAAKA,CAAC,IAAIqM,cAAc,EAAE/M,MAAM,CAACoP,QAAQ,CAACpP,MAAM,CAACV,gBAAgB,CAAC,EAAEU,MAAM,CAACoP,QAAQ,CAACnP,MAAM,CAACH,sBAAsB,CAAC,CAAC;AAAE,CAAC;AACxLiN,cAAc,CAACpM,KAAK,GAAG,aAAcX,MAAM,CAACY,kBAAkB,CAAC;EAAEC,KAAK,EAAEkM,cAAc;EAAEjM,OAAO,EAAEiM,cAAc,CAACvM;AAAK,CAAC,CAAC;AACvH;AACAuM,cAAc,CAAC1F,cAAc,GAAG,MAAM,CAClC;EAAEpG,IAAI,EAAE3B;AAAiB,CAAC,EAC1B;EAAE2B,IAAI,EAAEnB;AAAuB,CAAC,CACnC;AACD,CAAC,YAAY;EAAE,CAAC,OAAOiB,SAAS,KAAK,WAAW,IAAIA,SAAS,KAAKf,MAAM,CAACgB,iBAAiB,CAAC+L,cAAc,EAAE,CAAC;IACpG9L,IAAI,EAAErC;EACV,CAAC,CAAC,EAAE,YAAY;IAAE,OAAO,CAAC;MAAEqC,IAAI,EAAEjB,MAAM,CAACV;IAAiB,CAAC,EAAE;MAAE2B,IAAI,EAAEhB,MAAM,CAACH;IAAuB,CAAC,CAAC;EAAE,CAAC,EAAE,IAAI,CAAC;AAAE,CAAC,GAAG;AACzH,IAAI,KAAK,EAAE;EACP;EACAiN,cAAc,CAAC7L,SAAS,CAAC4C,MAAM;EAC/B;EACAiJ,cAAc,CAAC7L,SAAS,CAACwH,MAAM;EAC/B;EACAqE,cAAc,CAAC7L,SAAS,CAACyH,OAAO;EAChC;EACAoE,cAAc,CAAC7L,SAAS,CAAC0H,MAAM;EAC/B;EACAmE,cAAc,CAAC7L,SAAS,CAAC2H,QAAQ;EACjC;AACJ;AACA;AACA;EACIkE,cAAc,CAAC7L,SAAS,CAAC4H,iBAAiB;EAC1C;AACJ;AACA;AACA;EACIiE,cAAc,CAAC7L,SAAS,CAAC6H,mBAAmB;EAC5C;AACJ;AACA;AACA;EACIgE,cAAc,CAAC7L,SAAS,CAAC8H,cAAc;EACvC;AACJ;AACA;AACA;EACI+D,cAAc,CAAC7L,SAAS,CAAC4M,WAAW;EACpC;AACJ;AACA;AACA;EACIf,cAAc,CAAC7L,SAAS,CAACkM,eAAe;EACxC;AACJ;AACA;AACA;EACIL,cAAc,CAAC7L,SAAS,CAAC+L,WAAW;EACpC;AACJ;AACA;AACA;EACIF,cAAc,CAAC7L,SAAS,CAACgM,iBAAiB;EAC1C;AACJ;AACA;AACA;EACIH,cAAc,CAAC7L,SAAS,CAACiM,OAAO;EAChC;AACJ;AACA;AACA;EACIJ,cAAc,CAAC7L,SAAS,CAACwC,SAAS;EAClC;AACJ;AACA;AACA;EACIqJ,cAAc,CAAC7L,SAAS,CAACuH,GAAG;AAChC;;AAEA;AACA;AACA;AACA;AACA,MAAM4G,WAAW,CAAC;EACd;AACJ;AACA;EACI,OAAOC,OAAO,GAAG;IACb,OAAO;MACHC,QAAQ,EAAEF,WAAW;MACrBlN,SAAS,EAAE,CAAC4K,cAAc,EAAEjN,sBAAsB,EAAEC,kBAAkB;IAC1E,CAAC;EACL;EACA;AACJ;AACA;EACI,OAAOyP,QAAQ,GAAG;IACd,OAAO;MACHD,QAAQ,EAAEF,WAAW;MACrBlN,SAAS,EAAE,CAAC4K,cAAc,EAAEjN,sBAAsB,EAAEC,kBAAkB;IAC1E,CAAC;EACL;AACJ;AACAsP,WAAW,CAAC7O,IAAI,GAAG,SAASiP,mBAAmB,CAAC/O,CAAC,EAAE;EAAE,OAAO,KAAKA,CAAC,IAAI2O,WAAW,GAAG;AAAE,CAAC;AACvFA,WAAW,CAACK,IAAI,GAAG,aAAc1P,MAAM,CAAC2P,gBAAgB,CAAC;EAAE1O,IAAI,EAAEoO;AAAY,CAAC,CAAC;AAC/EA,WAAW,CAACO,IAAI,GAAG,aAAc5P,MAAM,CAAC6P,gBAAgB,CAAC,CAAC,CAAC,CAAC;AAC5D,CAAC,YAAY;EAAE,CAAC,OAAO9O,SAAS,KAAK,WAAW,IAAIA,SAAS,KAAKf,MAAM,CAACgB,iBAAiB,CAACqO,WAAW,EAAE,CAAC;IACjGpO,IAAI,EAAE1B,QAAQ;IACdgI,IAAI,EAAE,CAAC;MACCuI,YAAY,EAAE,CACVlI,sBAAsB,EACtBW,cAAc,EACd/E,uBAAuB,CAC1B;MACDuM,OAAO,EAAE,CAACnI,sBAAsB,EAAEW,cAAc,CAAC;MACjDyH,eAAe,EAAE,CAACpI,sBAAsB,EAAEpE,uBAAuB;IACrE,CAAC;EACT,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;AAAE,CAAC,GAAG;AACzB,CAAC,YAAY;EAAE,CAAC,OAAOyM,SAAS,KAAK,WAAW,IAAIA,SAAS,KAAKjQ,MAAM,CAACkQ,kBAAkB,CAACb,WAAW,EAAE;IAAES,YAAY,EAAE,CAAClI,sBAAsB,EAAEW,cAAc,EAAE/E,uBAAuB,CAAC;IAAEuM,OAAO,EAAE,CAACnI,sBAAsB,EAAEW,cAAc;EAAE,CAAC,CAAC;AAAE,CAAC,GAAG;;AAEtP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAASpI,UAAU,EAAE4M,cAAc,EAAEnF,sBAAsB,EAAExG,oBAAoB,EAAEoC,uBAAuB,EAAE+E,cAAc,EAAE8G,WAAW,EAAE5N,YAAY,EAAEc,UAAU,IAAI4N,EAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}